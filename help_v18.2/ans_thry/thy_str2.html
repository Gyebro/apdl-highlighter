<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:39:49-04:00"><title>2.2.&nbsp;Derivation of Structural Matrices</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="ans_thry.html" title="Mechanical APDL Theory Reference"><link rel="up" href="thy_str.html" title="Chapter&nbsp;2:&nbsp;Structures"><link rel="prev" href="thy_str1.html" title="2.1.&nbsp;Structural Fundamentals"><link rel="next" href="thy_str3.html" title="2.3.&nbsp;Structural Strain and Stress Evaluations"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" title="2.2.&nbsp;Derivation of Structural Matrices"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="rL3h2afmlg"></a>2.2.&nbsp;Derivation of Structural Matrices</h2></div></div></div><a class="indexterm" name="d0e1372"></a><a class="indexterm" name="d0e1375"></a><a class="indexterm" name="d0e1378"></a><a class="indexterm" name="d0e1383"></a><a class="indexterm" name="d0e1386"></a><a class="indexterm" name="d0e1391"></a><a class="indexterm" name="d0e1394"></a><a class="indexterm" name="d0e1399"></a><a class="indexterm" name="d0e1402"></a><a class="indexterm" name="d0e1407"></a><a class="indexterm" name="d0e1410"></a><a class="indexterm" name="d0e1415"></a><a class="indexterm" name="d0e1418"></a><a class="indexterm" name="d0e1423"></a><a class="indexterm" name="d0e1426"></a><a class="indexterm" name="d0e1431"></a><a class="indexterm" name="d0e1434"></a><a class="indexterm" name="d0e1439"></a><a class="indexterm" name="d0e1442"></a><a class="indexterm" name="d0e1447"></a><a class="indexterm" name="d0e1450"></a><a class="indexterm" name="d0e1455"></a><p>The principle of virtual work states that a virtual (very small)
change of the internal strain energy must be offset by an identical
change in external work due to the applied loads, or:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq1dervnov1501"></a><div><img src="graphics/thyeq1dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;41)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>U = strain energy (internal work) = U<sub>1</sub> + U<sub>2</sub>
</td></tr><tr><td>V = external work = V<sub>1</sub> + V<sub>2</sub> + V<sub>3</sub>
</td></tr><tr><td>&#948; = virtual operator</td></tr></table><p>
</p><p>The virtual strain energy is:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq2dervnov1501"></a><div><img src="graphics/thyeq2dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;42)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>{&#949;} = strain vector</td></tr><tr><td>{&#963;} = stress vector</td></tr><tr><td>vol = volume of element</td></tr></table><p>
</p><p>Continuing the derivation assuming linear materials and geometry, <a class="xref" href="thy_str2.html#thyeq1dervnov1501" title="(2&#8211;41)">Equation&nbsp;2&#8211;41</a> and <a class="xref" href="thy_str2.html#thyeq2dervnov1501" title="(2&#8211;42)">Equation&nbsp;2&#8211;42</a> are combined to give:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq3dervnov1501"></a><div><img src="graphics/thyeq3dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;43)</b></p></td></tr></table><p>The strains may be related to the nodal displacements by:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq4dervnov1501"></a><div><img src="graphics/thyeq4dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;44)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>[B] = strain-displacement matrix, based on the element shape
functions</td></tr><tr><td>{u} = nodal displacement vector</td></tr></table><p>
</p><p>It will be assumed that all effects are in the global Cartesian
system.  Combining <a class="xref" href="thy_str2.html#thyeq4dervnov1501" title="(2&#8211;44)">Equation&nbsp;2&#8211;44</a> with <a class="xref" href="thy_str2.html#thyeq3dervnov1501" title="(2&#8211;43)">Equation&nbsp;2&#8211;43</a>, and noting that {u} does not vary over
the volume:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq7dervnov1501"></a><div><img src="graphics/thyeq7dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;45)</b></p></td></tr></table><p>Another form of virtual strain energy is when a surface moves
against a distributed resistance, as in a foundation stiffness.  This
may be written as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq5dervnov1501"></a><div><img src="graphics/thyeq5dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;46)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>{w<sub>n</sub>} = motion normal to the surface</td></tr><tr><td>{&#963;} = stress (or pressure) carried by the surface</td></tr><tr><td>area<sub>f</sub> = area of the distributed resistance</td></tr></table><p>
</p><p>Both {w<sub>n</sub>} and {&#963;} will usually have
only one nonzero component.  The point-wise normal displacement is
related to the nodal displacements by:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq85f6314c-2feb-4b12-b5e9-325ecc4ed796"></a><div><img src="graphics/eq85f6314c-2feb-4b12-b5e9-325ecc4ed796.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;47)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>[N<sub>n</sub>] = matrix of shape functions for
normal motions at the surface</td></tr></table><p>
</p><p>The stress, {&#963;}, is</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq6dervnov1501"></a><div><img src="graphics/thyeq6dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;48)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>k = the foundation stiffness in units of force per length
per unit area</td></tr></table><p>
</p><p>Combining <a class="xref" href="thy_str2.html#thyeq5dervnov1501" title="(2&#8211;46)">Equation&nbsp;2&#8211;46</a> through <a class="xref" href="thy_str2.html#thyeq6dervnov1501" title="(2&#8211;48)">Equation&nbsp;2&#8211;48</a>, and assuming that k is constant over
the area,</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq8dervnov1501"></a><div><img src="graphics/thyeq8dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;49)</b></p></td></tr></table><p>Next, the external virtual work will be considered.  The inertial
effects will be studied first:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq9dervnov1501"></a><div><img src="graphics/thyeq9dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;50)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>{w} = vector of displacements of a general point</td></tr><tr><td>{F<sup>a</sup>} = acceleration (D'Alembert)
force vector</td></tr></table><p>
</p><p>According to Newton's second law:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq10dervnov1501"></a><div><img src="graphics/thyeq10dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;51)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>&#961; = density (input as DENS on <a href="../ans_cmd/Hlp_C_MP.html" class="olink"><span class="command"><strong>MP</strong></span></a> command)</td></tr><tr><td>t = time</td></tr></table><p>
</p><p>The displacements within the element are related to the nodal
displacements by:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq11dervnov1501"></a><div><img src="graphics/thyeq11dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;52)</b></p></td></tr></table><p>where [N] = matrix of shape functions.  Combining <a class="xref" href="thy_str2.html#thyeq9dervnov1501" title="(2&#8211;50)">Equation&nbsp;2&#8211;50</a>, <a class="xref" href="thy_str2.html#thyeq10dervnov1501" title="(2&#8211;51)">Equation&nbsp;2&#8211;51</a>, and <a class="xref" href="thy_str2.html#thyeq11dervnov1501" title="(2&#8211;52)">Equation&nbsp;2&#8211;52</a>, and assuming that &#961;
is constant over the volume,</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq12dervnov1501"></a><div><img src="graphics/thyeq12dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;53)</b></p></td></tr></table><p>The pressure force vector formulation starts with:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq13dervnov1501"></a><div><img src="graphics/thyeq13dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;54)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>{P} = the applied pressure vector (normally contains only
one nonzero component)</td></tr><tr><td>area <sub>p</sub> = area over which pressure acts</td></tr></table><p>
</p><p>Combining equations <a class="xref" href="thy_str2.html#thyeq11dervnov1501" title="(2&#8211;52)">Equation&nbsp;2&#8211;52</a> and <a class="xref" href="thy_str2.html#thyeq13dervnov1501" title="(2&#8211;54)">Equation&nbsp;2&#8211;54</a>,</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq14dervnov1501"></a><div><img src="graphics/thyeq14dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;55)</b></p></td></tr></table><p>Unless otherwise noted, pressures are applied to the outside
surface of each element and are normal to curved surfaces, if applicable.</p><p>Nodal forces applied to the element can be accounted for by:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq15dervnov1501"></a><div><img src="graphics/thyeq15dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;56)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>
     <span class="inlineequation" style="&#xA;          vertical-align:-5.000000px"><img src="graphics/eqf1d642d9-6730-4d8e-92bb-ad7b89f650c7.svg"></span>
    </td></tr></table><p>
</p><p>Finally, <a class="xref" href="thy_str2.html#thyeq1dervnov1501" title="(2&#8211;41)">Equation&nbsp;2&#8211;41</a>, <a class="xref" href="thy_str2.html#thyeq7dervnov1501" title="(2&#8211;45)">Equation&nbsp;2&#8211;45</a>, <a class="xref" href="thy_str2.html#thyeq8dervnov1501" title="(2&#8211;49)">Equation&nbsp;2&#8211;49</a>, <a class="xref" href="thy_str2.html#thyeq12dervnov1501" title="(2&#8211;53)">Equation&nbsp;2&#8211;53</a>, <a class="xref" href="thy_str2.html#thyeq14dervnov1501" title="(2&#8211;55)">Equation&nbsp;2&#8211;55</a>, and <a class="xref" href="thy_str2.html#thyeq15dervnov1501" title="(2&#8211;56)">Equation&nbsp;2&#8211;56</a> may be combined to give:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq16dervnov1501"></a><div><img src="graphics/thyeq16dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;57)</b></p></td></tr></table><p>Noting that the {&#948;u}<sup>T</sup> vector
is a set of arbitrary virtual displacements common in all of the above
terms, the condition required to satisfy equation <a class="xref" href="thy_str2.html#thyeq16dervnov1501" title="(2&#8211;57)">Equation&nbsp;2&#8211;57</a> reduces to:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq17dervnov1501"></a><div><img src="graphics/thyeq17dervnov1501.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(2&#8211;58)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>
     <span class="inlineequation" style="&#xA;          vertical-align:-12.000000px"><img src="graphics/eq55ff8a17-6b98-4077-8858-7d86bcfdc12a.svg"></span>
    </td></tr><tr><td>
     <span class="inlineequation" style="&#xA;          vertical-align:-13.000000px"><img src="graphics/eq65dc9659-4a29-4fe9-98b4-cd6f4ff2815f.svg"></span>
    </td></tr><tr><td>
     <span class="inlineequation" style="&#xA;          vertical-align:-12.000000px"><img src="graphics/eqd856afda-52d1-467d-84ee-e511ce7963a6.svg"></span>
    </td></tr><tr><td>
     <span class="inlineequation" style="&#xA;          vertical-align:-12.000000px"><img src="graphics/eqbe4bf4c7-2432-4618-b29e-e32b5dad9da2.svg"></span>
    </td></tr><tr><td>
     <span class="inlineequation" style="&#xA;          vertical-align:-7.000000px"><img src="graphics/eq98133c92-a400-4a66-b758-08e973b72176.svg"></span>
    </td></tr><tr><td>
     <span class="inlineequation" style="&#xA;          vertical-align:-12.000000px"><img src="graphics/eq6617fb7b-3c75-422f-8e7e-3d602373e13c.svg"></span>
    </td></tr></table><p>
</p><p>
<a class="xref" href="thy_str2.html#thyeq17dervnov1501" title="(2&#8211;58)">Equation&nbsp;2&#8211;58</a> represents the equilibrium
equation on a one element basis.</p><p>The above matrices and load vectors were developed as &#8220;consistent&#8221;.
 Other formulations are possible.  For example, if only diagonal terms
for the mass matrix are requested (<a href="../ans_cmd/Hlp_C_LUMPM.html" class="olink"><span class="command"><strong>LUMPM</strong></span></a>,ON), the
matrix is called &#8220;lumped&#8221; (see <a class="xref" href="thy_et2.html" title="12.5.&nbsp;Lumped Matrices">Lumped Matrices</a>).  For most lumped mass matrices, the rotational degrees of freedom
(DOFs) are removed.  If the rotational DOFs are requested to be removed
(KEYOPT commands with certain elements), the matrix or load vector
is called &#8220;reduced&#8221;.  Thus, use of the reduced pressure
load vector does not generate moments as part of the pressure load
vector.  Use of the consistent pressure load vector can cause erroneous
internal moments in a structure.  An example of this would be a thin
circular cylinder under internal pressure modelled with irregular
shaped shell elements.  As suggested by <a class="xref" href="thy_str2.html#NMIjf16bmlg" title="Figure&nbsp;2.3:&nbsp;&nbsp;Effects of Consistent Pressure Loading">Figure&nbsp;2.3:&nbsp;Effects of Consistent Pressure Loading</a>, the consistent pressure loading generates an erroneous moment
for two adjacent elements of dissimilar size.</p><div class="figure"><a name="NMIjf16bmlg"></a><p class="title"><b>Figure&nbsp;2.3:&nbsp;&nbsp;Effects of Consistent Pressure Loading</b></p><div class="figure-contents"><div><img src="graphics/gthy2-79.svg" alt="Effects of Consistent Pressure Loading"></div></div></div><br class="figure-break"></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>