<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:41:27-04:00"><title>17.5.&nbsp;POST1 - Electromagnetic Macros</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="ans_thry.html" title="Mechanical APDL Theory Reference"><link rel="up" href="thy_post.html" title="Chapter&nbsp;17:&nbsp;Postprocessing"><link rel="prev" href="thy_post4.html" title="17.4.&nbsp;POST1 - Stress Linearization"><link rel="next" href="thy_post7.html" title="17.6.&nbsp;POST1 - Error Approximation Technique"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="sect1" title="17.5.&nbsp;POST1 - Electromagnetic Macros"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="bob142"></a>17.5.&nbsp;POST1 - Electromagnetic Macros</h2></div></div></div><p>Electromagnetic macros are macro files created to perform specific
postprocessing operations for electromagnetic field analysis.  Macros
performing computational analysis are detailed in this section.</p><div class="sect2" title="17.5.1.&nbsp;Flux Passing Thru a Closed Contour"><div class="titlepage"><div><div><h3 class="title"><a name="posfluxpass"></a>17.5.1.&nbsp;Flux Passing Thru a Closed Contour</h3></div></div></div><a class="indexterm" name="d0e85952"></a><a class="indexterm" name="d0e85955"></a><p>The flux passing through a surface defined by a closed line
contour (<a href="../ans_cmd/Hlp_C_PPATH.html" class="olink"><span class="command"><strong>PPATH</strong></span></a> command) is computed (using the <a href="../ans_cmd/Hlp_C_FLUXV.html" class="olink"><span class="command"><strong>FLUXV</strong></span></a> command macro).  The macro is applicable to 2-D and
3-D magnetic field analysis employing the magnetic vector potential
A.  For 2-D planar analyses, the flux value is per unit depth.</p><p>The flux passing through a surface S can be calculated as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq1fluxnov2001"></a><div><img src="graphics/thyeq1fluxnov2001.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;50)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>&#966; = flux enclosed by the bounding surface S</td></tr><tr><td>{B} = flux density vector</td></tr><tr><td>{n} = unit normal vector</td></tr><tr><td>area = area of the bounding surface S</td></tr></table><p>
</p><p>
<a class="xref" href="thy_post6.html#thyeq1fluxnov2001" title="(17&#8211;50)">Equation&nbsp;17&#8211;50</a> can be rewritten in terms
of the definition of the vector potential as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq2fluxnov2001"></a><div><img src="graphics/thyeq2fluxnov2001.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;51)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>{A} = magnetic vector potential</td></tr></table><p>
</p><p>By applying Stokes theorem, the surface integral reduces to
a line integral of A around a closed contour;</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq3fluxnov2001"></a><div><img src="graphics/thyeq3fluxnov2001.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;52)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>

<span class="inlineequation" style="&#xA;          vertical-align:-1.000000px"><img src="graphics/eq8aea1d97-2e86-4d69-b3d8-301a0aeb6f9a.svg"></span> = length of the bounding
contour line</td></tr></table><p>
</p><p>The macro interpolates values of the vector potential, A, to
the closed contour path (defined by the <a href="../ans_cmd/Hlp_C_PPATH.html" class="olink"><span class="command"><strong>PPATH</strong></span></a> command)
and integrates to obtain the flux using <a class="xref" href="thy_post6.html#thyeq3fluxnov2001" title="(17&#8211;52)">Equation&nbsp;17&#8211;52</a>.  In the axisymmetric case, the vector
potential is multiplied by 2&#960;r to obtain the total flux for a full
circumferential surface (where &#8220;r&#8221; is the x-coordinate
location of the interpolation point). </p></div><div class="sect2" title="17.5.2.&nbsp;Magnetomotive Forces"><div class="titlepage"><div><div><h3 class="title"><a name="posmagneto"></a>17.5.2.&nbsp;Magnetomotive Forces</h3></div></div></div><a class="indexterm" name="d0e86023"></a><p>The magnetomotive force (current) along a contour or path (defined
by the <a href="../ans_cmd/Hlp_C_PPATH.html" class="olink"><span class="command"><strong>PPATH</strong></span></a> command) is calculated (using the <a href="../ans_cmd/Hlp_C_MMF.html" class="olink"><span class="command"><strong>MMF</strong></span></a> command macro)  according to Amperes' theorem:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq1magnetonov2001"></a><div><img src="graphics/thyeq1magnetonov2001.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;53)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>I<sub>mmf</sub> = magnetomotive force</td></tr><tr><td>{H} = magnetic field intensity vector</td></tr></table><p>
</p><p>The macro interpolates values of magnetic field intensity, H,
to the path and integrates to obtain the I<sub>mmf</sub> as in <a class="xref" href="thy_post6.html#thyeq1magnetonov2001" title="(17&#8211;53)">Equation&nbsp;17&#8211;53</a>.  In a static analysis
or transverse electromagnetic (TEM) and transverse electric (TE) wave
guide mode computation, I<sub>mmf</sub> can be interpreted
as a current passing the surface bounded by the closed contour.</p></div><div class="sect2" title="17.5.3.&nbsp;Power Loss"><div class="titlepage"><div><div><h3 class="title"><a name="pospowerloss"></a>17.5.3.&nbsp;Power Loss</h3></div></div></div><a class="indexterm" name="d0e86063"></a><p>The power dissipated in a conducting solid body under the influence
of a time-harmonic electromagnetic field is computed (using the <a href="../ans_cmd/Hlp_C_POWERH.html" class="olink"><span class="command"><strong>POWERH</strong></span></a> command macro).  The r.m.s. power loss is calculated
from the equation (see <a class="xref" href="thy_emg1.html#elecformalism" title="5.1.5.&nbsp;Harmonic Analysis Using Complex Formalism">Harmonic Analysis Using Complex Formalism</a> for further
details):</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq1lossnov2001"></a><div><img src="graphics/thyeq1lossnov2001.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;54)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>P<sub>rms</sub> = rms power loss</td></tr><tr><td>r = material resistivity</td></tr><tr><td>J<sub>t</sub> = total current density </td></tr><tr><td>~ = complex quantity</td></tr></table><p>
</p><p>The macro evaluates <a class="xref" href="thy_post6.html#thyeq1lossnov2001" title="(17&#8211;54)">Equation&nbsp;17&#8211;54</a> by integrating
over the selected element set according to:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq646c1bc2-ebb8-4d98-aef0-bff0b9cabdea"></a><div><img src="graphics/eq646c1bc2-ebb8-4d98-aef0-bff0b9cabdea.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;55)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>n = number of elements</td></tr><tr><td>Re{ } = real component of a complex quantity </td></tr><tr><td>[&#961;<sub>i</sub>] = resistivity tensor (matrix)</td></tr><tr><td>

<span class="inlineequation" style="&#xA;          vertical-align:-9.000000px"><img src="graphics/eqe3775177-1bf0-4d56-9fbf-f4f785c30735.svg"></span> = total eddy current density vector for
element i</td></tr><tr><td>vol<sub>i</sub> = element volume</td></tr><tr><td>* = complex conjugate operator</td></tr></table><p>
</p><p>For 2-D planar analyses, the resulting power loss is per unit
depth.</p></div><div class="sect2" title="17.5.4.&nbsp;Energy Supplied"><div class="titlepage"><div><div><h3 class="title"><a name="posenergy"></a>17.5.4.&nbsp;Energy Supplied</h3></div></div></div><p>The energy supplied to the coil for a linear system is calculated
as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eqb74cc13d-a493-423e-b138-51ae9d8de055"></a><div><img src="graphics/eqb74cc13d-a493-423e-b138-51ae9d8de055.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;56)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>W = energy input to coil</td></tr><tr><td>{A} = nodal vector potential</td></tr><tr><td>{J<sub>s</sub>} = d.c. source current density</td></tr><tr><td>vol = volume of the coil</td></tr></table><p>
</p></div><div class="sect2" title="17.5.5.&nbsp;Terminal Inductance"><div class="titlepage"><div><div><h3 class="title"><a name="posterminduct"></a>17.5.5.&nbsp;Terminal Inductance</h3></div></div></div><p>The inductance as seen by the terminal leads of the coil is
calculated as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq4f846f67-7fec-41c6-9054-fee591753967"></a><div><img src="graphics/eq4f846f67-7fec-41c6-9054-fee591753967.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;57)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>L = terminal inductance</td></tr><tr><td>i = coil current (per turn)</td></tr></table><p>
</p></div><div class="sect2" title="17.5.6.&nbsp;Flux Linkage"><div class="titlepage"><div><div><h3 class="title"><a name="posfluxlink"></a>17.5.6.&nbsp;Flux Linkage</h3></div></div></div><p>The total flux linkage of a coil can be calculated from the
terminal inductance and coil current,</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq00bf7892-c023-47af-8609-c4e8aad1d49f"></a><div><img src="graphics/eq00bf7892-c023-47af-8609-c4e8aad1d49f.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;58)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>&#955; = flux linkage</td></tr></table><p>
</p></div><div class="sect2" title="17.5.7.&nbsp;Terminal Voltage"><div class="titlepage"><div><div><h3 class="title"><a name="postermvolt"></a>17.5.7.&nbsp;Terminal Voltage</h3></div></div></div><p>For a coil operating with an a.c. current at frequency &#969;
(Hz), a voltage will appear at the terminal leads.  Neglecting skin
effects and saturation, a static analysis gives the correct field
distribution.  For the assumed operating frequency, the terminal voltage
can be found.  From Faraday's law,</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq5255dfab-0e69-40aa-a06b-05730524ae54"></a><div><img src="graphics/eq5255dfab-0e69-40aa-a06b-05730524ae54.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;59)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>u = terminal voltage</td></tr></table><p>
</p><p>Under a sinusoidal current at an operating frequency &#969;,
the flux linkage will vary sinusoidally</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eqd8eab72a-3a3e-4e1b-a956-93f695ffaeab"></a><div><img src="graphics/eqd8eab72a-3a3e-4e1b-a956-93f695ffaeab.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;60)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>&#955;<sub>m</sub> = zero-to-peak magnitude of
the flux linkage</td></tr></table><p>
</p><p>The terminal voltage is therefore:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eqe1623ada-d6ed-415f-929e-3ff7c0d5da26"></a><div><img src="graphics/eqe1623ada-d6ed-415f-929e-3ff7c0d5da26.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;61)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>U = &#969;&#955;<sub>m</sub> = zero-to-peak magnitude
of the terminal voltage (parameter VLTG returned by the macro)</td></tr></table><p>
</p><p>For 2-D planar analyses, the results are per unit depth.</p></div><div class="sect2" title="17.5.8.&nbsp;Energy in a Magnetic Field"><div class="titlepage"><div><div><h3 class="title"><a name="posenergymag"></a>17.5.8.&nbsp;Energy in a Magnetic Field</h3></div></div></div><a class="indexterm" name="d0e86229"></a><a class="indexterm" name="d0e86232"></a><p>The stored energy and co-energy in a magnetic field are calculated
(by the <a href="../ans_cmd/Hlp_C_SENERGY.html" class="olink"><span class="command"><strong>SENERGY</strong></span></a> command macro).  For the static
or transient analysis, the stored magnetic energy is calculated as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq4d6549c9-1380-4aed-9f8f-ed5ce28571d5"></a><div><img src="graphics/eq4d6549c9-1380-4aed-9f8f-ed5ce28571d5.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;62)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>W<sub>s</sub> = stored magnetic energy</td></tr></table><p>
</p><p>The magnetic co-energy is calculated as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq94e466c1-1005-490b-80f5-8f9ba92271e4"></a><div><img src="graphics/eq94e466c1-1005-490b-80f5-8f9ba92271e4.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;63)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>W<sub>c</sub> = stored magnetic co-energy</td></tr><tr><td>H<sub>c</sub> = coercive force</td></tr></table><p>
</p><p>For time-harmonic analysis, the r.m.s. stored magnetic energy
is calculated as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eqd2809ca2-70cb-4cd7-9ce5-a53d5eb60318"></a><div><img src="graphics/eqd2809ca2-70cb-4cd7-9ce5-a53d5eb60318.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;64)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>W<sub>rms</sub> = r.m.s. stored energy</td></tr></table><p>
</p><p>For 2-D planar analyses, the results are per unit depth.</p></div><div class="sect2" title="17.5.9.&nbsp;Relative Error in Electrostatic or Electromagnetic Field Analysis"><div class="titlepage"><div><div><h3 class="title"><a name="poserrorelec"></a>17.5.9.&nbsp;Relative Error in Electrostatic or Electromagnetic Field Analysis</h3></div></div></div><a class="indexterm" name="d0e86291"></a><p>The relative error in an electrostatic or electromagnetic field
analysis is computed (by the <a href="../ans_cmd/Hlp_C_EMAGERR.html" class="olink"><span class="command"><strong>EMAGERR</strong></span></a> command macro).
 The relative error measure is based on the difference in calculated
fields between a nodal-averaged continuous field representation and
a discontinuous field represented by each individual element's-nodal
field values.  An average error for each element is calculated.  Within
a material, the relative error is calculated as:</p><div class="sect3" title="17.5.9.1.&nbsp;Electrostatics"><div class="titlepage"><div><div><h4 class="title"><a name="poselectro"></a>17.5.9.1.&nbsp;Electrostatics</h4></div></div></div><div class="sect4" title="17.5.9.1.1.&nbsp;Electric Field"><div class="titlepage"><div><div><h5 class="title"><a name="poselecfield"></a>17.5.9.1.1.&nbsp;Electric Field</h5></div></div></div><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq04ebf922-bd1f-4ca0-884b-035037afc524"></a><div><img src="graphics/eq04ebf922-bd1f-4ca0-884b-035037afc524.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;65)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>E<sub>ei</sub> = relative error for the electric
field (magnitude) for element i</td></tr><tr><td>E<sub>j</sub> = nodal averaged electric field
(magnitude)</td></tr><tr><td>E<sub>ij</sub> = electric field (magnitude) of
element i at node j</td></tr><tr><td>n = number of vertex nodes in element i</td></tr></table><p>
</p></div><div class="sect4" title="17.5.9.1.2.&nbsp;Electric Flux Density"><div class="titlepage"><div><div><h5 class="title"><a name="poselecfluxden"></a>17.5.9.1.2.&nbsp;Electric Flux Density</h5></div></div></div><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq836fda9e-b4c2-4017-b338-5b571e0517b7"></a><div><img src="graphics/eq836fda9e-b4c2-4017-b338-5b571e0517b7.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;66)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>D<sub>ei</sub> = relative error for the electric
flux density (magnitude) for element i</td></tr><tr><td>D<sub>j</sub> = nodal averaged electric flux density
(magnitude)</td></tr><tr><td>D<sub>ij</sub> = electric flux density (magnitude)
of element i at node j</td></tr></table><p>
</p><p>A normalized relative error norm measure is also calculated
based on the maximum element nodal calculated field value in the currently
selected element set. </p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq27d2d5fe-2a6e-4219-bbb6-298c4fc9cd8e"></a><div><img src="graphics/eq27d2d5fe-2a6e-4219-bbb6-298c4fc9cd8e.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;67)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>E<sub>max</sub> = maximum element nodal electric
field (magnitude)</td></tr></table><p>
</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq2ebdd263-bc2d-4dcd-bf9f-a82dfcc1acf6"></a><div><img src="graphics/eq2ebdd263-bc2d-4dcd-bf9f-a82dfcc1acf6.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;68)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>D<sub>max</sub> = maximum element nodal electric
flux density (magnitude)</td></tr></table><p>
</p></div></div><div class="sect3" title="17.5.9.2.&nbsp;Electromagnetics"><div class="titlepage"><div><div><h4 class="title"><a name="posemagnetics"></a>17.5.9.2.&nbsp;Electromagnetics</h4></div></div></div><div class="sect4" title="17.5.9.2.1.&nbsp;Magnetic Field Intensity"><div class="titlepage"><div><div><h5 class="title"><a name="posmagfieldint"></a>17.5.9.2.1.&nbsp;Magnetic Field Intensity</h5></div></div></div><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq47a22fc9-b627-44f7-82dc-13aa47f627ec"></a><div><img src="graphics/eq47a22fc9-b627-44f7-82dc-13aa47f627ec.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;69)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>H<sub>ei</sub> = relative error for the magnetic
field intensity (magnitude) for element i</td></tr><tr><td>H<sub>j</sub> = nodal averaged magnetic field
intensity (magnitude)</td></tr><tr><td>H<sub>ij</sub> = magnetic field intensity (magnitude)
of element i at node j</td></tr></table><p>
</p></div><div class="sect4" title="17.5.9.2.2.&nbsp;Magnetic Flux Density"><div class="titlepage"><div><div><h5 class="title"><a name="posmagflxden"></a>17.5.9.2.2.&nbsp;Magnetic Flux Density</h5></div></div></div><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq52aaa959-1f3b-46ee-93aa-65d5410808c3"></a><div><img src="graphics/eq52aaa959-1f3b-46ee-93aa-65d5410808c3.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;70)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>B<sub>ei</sub> = relative error for the magnetic
flux density (magnitude) for element i</td></tr><tr><td>B<sub>j</sub> = nodal averaged magnetic flux density
(magnitude)</td></tr><tr><td>B<sub>ij</sub> = magnetic flue density (magnitude)
of element i at node j</td></tr></table><p>
</p><p>A normalized relative error measure is also calculated based
on the maximum element nodal calculated field value in the currently
selected element set. </p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq1ee33daa-b189-41c6-bedb-7667580061ff"></a><div><img src="graphics/eq1ee33daa-b189-41c6-bedb-7667580061ff.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;71)</b></p></td></tr></table><p>where:</p><table border="0" summary="Simple list" class="simplelist"><tr><td>H<sub>max</sub> = maximum element nodal magnetic
field intensity (magnitude)</td></tr></table><p>
</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq608c98a1-9782-4a79-b44c-241dfbb1123e"></a><div><img src="graphics/eq608c98a1-9782-4a79-b44c-241dfbb1123e.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;72)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>B<sub>max</sub> = maximum nodal averaged magnetic
flux density (magnitude)</td></tr></table><p>
</p></div></div></div><div class="sect2" title="17.5.10.&nbsp;Electromotive Force"><div class="titlepage"><div><div><h3 class="title"><a name="poseleforce"></a>17.5.10.&nbsp;Electromotive Force</h3></div></div></div><a class="indexterm" name="d0e86463"></a><a class="indexterm" name="d0e86466"></a><p>The electromotive force (voltage drop) between two conductors
defined along a path contour (<a href="../ans_cmd/Hlp_C_PATH.html" class="olink"><span class="command"><strong>PATH</strong></span></a> command) is
computed (using the <a href="../ans_cmd/Hlp_C_EMF.html" class="olink"><span class="command"><strong>EMF</strong></span></a> command macro):</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq96033842-4196-4e35-93f8-eec0bfcb87b1"></a><div><img src="graphics/eq96033842-4196-4e35-93f8-eec0bfcb87b1.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;73)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>V<sub>emf</sub> = electromotive force (voltage
drop)</td></tr><tr><td>{E} = electric field vector</td></tr></table><p>
</p><p>The macro interpolates values of the electric field, E, to the
path (defined by the <a href="../ans_cmd/Hlp_C_PATH.html" class="olink"><span class="command"><strong>PATH</strong></span></a> command) and integrates
to obtain the electromotive force (voltage drop).  The path may span
multiple materials of differing permittivity.  At least one path point
should reside in each material transversed by the path.  In static
analysis or transverse electromagnetic (TEM) and transverse magnetic
(TM) wave guide mode computation, V<sub>emf</sub> can
be interpreted as a voltage drop.</p></div><div class="sect2" title="17.5.11.&nbsp;Computation of Equivalent Transmission-line Parameters"><div class="titlepage"><div><div><h3 class="title"><a name="poscompequiv"></a>17.5.11.&nbsp;Computation of Equivalent Transmission-line Parameters</h3></div></div></div><a class="indexterm" name="d0e86505"></a><p>The equivalent transmission-line parameters for a guiding wave
structure are calculated. For a lossless guiding structure, the total
mode voltage, V(Z), and mode current, I(Z), associated with a +Z propagating
field take on the form:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="thyeq1coaxnov2001"></a><div><img src="graphics/thyeq1coaxnov2001.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;74)</b></p></td></tr></table><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq0699a4b3-f2d8-4068-b1eb-97580f5278a7"></a><div><img src="graphics/eq0699a4b3-f2d8-4068-b1eb-97580f5278a7.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;75)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>Z<sub>o</sub> = characteristic impedance for any
mode</td></tr><tr><td>A = amplitude of the incident voltage wave (see below)</td></tr><tr><td>B = amplitude of the backscattered voltage wave (see below)</td></tr></table><p>
</p><p>We can consider the propagating waves in terms on an equivalent
two-wire transmission line terminated at Z = 
<span class="inlineequation" style="&#xA;          vertical-align:-1.000000px"><img src="graphics/eq2dfffdd2-e590-4861-b460-700b5341b772.svg"></span> by a load impedance 
<span class="inlineequation" style="&#xA;          vertical-align:-5.000000px"><img src="graphics/eq3bdaea83-1930-45ca-bcb1-1c09785cc96d.svg"></span>. </p><div class="figure"><a name="EQYte371leaf"></a><p class="title"><b>Figure&nbsp;17.10:&nbsp;&nbsp;Equivalent Two-Wire Transmission Line</b></p><div class="figure-contents"><div><img src="graphics/gthy19-171.svg" alt="Equivalent Two-Wire Transmission Line"></div></div></div><br class="figure-break"><p>The voltage term &#8220;A&#8221; in <a class="xref" href="thy_post6.html#thyeq1coaxnov2001" title="(17&#8211;74)">Equation&nbsp;17&#8211;74</a> can be considered as the amplitude of
the incident wave, and voltage term &#8220;B&#8221; as the amplitude
of the mode voltage wave backscattered off the load impedance 
<span class="inlineequation" style="&#xA;          vertical-align:-5.000000px"><img src="graphics/eqf4a2df1d-44f1-4be9-9136-a7c966d23cdb.svg"></span>.</p><p>Thus,</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq3e5e2547-c479-4808-aae9-1be0e07ba515"></a><div><img src="graphics/eq3e5e2547-c479-4808-aae9-1be0e07ba515.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;76)</b></p></td></tr></table><p>Rearranging we have,</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eqe9616d7c-2829-4ce2-b760-c0675634aaaf"></a><div><img src="graphics/eqe9616d7c-2829-4ce2-b760-c0675634aaaf.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;77)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>&#915; = voltage reflection coefficient</td></tr></table><p>
</p><p>The voltage standing-wave ratio is calculated as:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eq54e68d9b-7890-47f5-819e-b52d5919d20b"></a><div><img src="graphics/eq54e68d9b-7890-47f5-819e-b52d5919d20b.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;78)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>S = voltage standing-wave ratio (output as VSWR) </td></tr></table><p>
</p><p>For a matched load (
<span class="inlineequation" style="&#xA;          vertical-align:-5.000000px"><img src="graphics/eq8a60ac9d-87e5-4a35-9a78-ab7eb86c69f0.svg"></span> = Z<sub>o</sub>) there is no
reflection (&#915; = 0) and the S = 1.  If 
<span class="inlineequation" style="&#xA;          vertical-align:-5.000000px"><img src="graphics/eq53f7dd03-07d4-42f4-81c3-1e3f4ae2eef5.svg"></span> is a short circuit, B = -A, &#915; = -1, and the
S is infinite.  If 
<span class="inlineequation" style="&#xA;          vertical-align:-5.000000px"><img src="graphics/eq12721d97-b106-4d3b-be06-2e2297065ccd.svg"></span> is an open circuit, B = A,  &#915; = +1,
and the S once again is infinite.</p><p>The reflection coefficient is frequently expressed in dB form
by introducing the concept of return loss defined by:</p><table width="100%" class="equation"><colgroup><col width="95%" align="center"><col width="5%" align="right"></colgroup><tr><td align="center"><a name="eqdbae3f83-3c20-4723-98cc-652682779d9e"></a><div><img src="graphics/eqdbae3f83-3c20-4723-98cc-652682779d9e.svg"></div></td><td nowrap="yes" align="right" valign="middle"><p class="title"><b>(17&#8211;79)</b></p></td></tr></table><p>where: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>L<sub>R</sub> = return loss in dB (output as RL)</td></tr></table><p>
</p><p>The macro calculates the above transmission line parameters
in terms of the incident, reference and total voltage.</p></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>