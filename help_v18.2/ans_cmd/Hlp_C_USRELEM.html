<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:41:47-04:00"><title>USRELEM</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_U_TOC.html" title="U Commands"><link rel="prev" href="Hlp_C_USRDOF.html" title="USRDOF"><link rel="next" href="Hlp_V_TOC.html" title="V Commands"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="USRELEM"><a name="USRELEM"></a><div class="titlepage"></div><a class="indexterm" name="d0e287686"></a><span class="refentrytitle"><span class="command"><strong>USRELEM</strong></span></span><div class="refnamediv"><p><span class="command"><strong>USRELEM</strong></span>, <em class="replaceable"><code>NNODES</code></em>, <em class="replaceable"><code>NDIM</code></em>, <em class="replaceable"><code>KeyShape</code></em>, <em class="replaceable"><code>NREAL</code></em>, <em class="replaceable"><code>NSAVEVARS</code></em>, <em class="replaceable"><code>NRSLTVAR</code></em>, <em class="replaceable"><code>KEYANSMAT</code></em>, <em class="replaceable"><code>NINTPNTS</code></em>, <em class="replaceable"><code>KESTRESS</code></em>, <em class="replaceable"><code>KEYSYM</code></em><br><b class="refpurpose">Specifies the characteristics of the user-defined element <a href="../ans_elem/Hlp_E_USER300.html" class="olink"><span class="structname">USER300</span></a>.</b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_5.html" title="2.5.&nbsp;PREP7 Commands"><code class="classname">PREP7</code></a>: <a class="link" href="Hlp_C_CH2_5.html#cmdprep7elementsldm061600" title="Table&nbsp;2.38:&nbsp;&nbsp;Elements"><span class="type">Elements</span></a></span></div></div>  </div><div class="refclass"><div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  &#8211; | &#8211; | &#8211; | Enterprise | Ent PP | Ent Solver | &#8211;</span></div></div></div></p></div><div class="refsynopsisdiv" title="Synopsis"><h2></h2><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>NNODES</code></em></b></span></dt><dd><p>The number of nodes.</p></dd><dt><span><b class="term"><em class="replaceable"><code>NDIM</code></em></b></span></dt><dd><p>The number of dimensions (of nodal coordinates). Valid
values are 2 or 3.</p></dd><dt><span><b class="term"><em class="replaceable"><code>KeyShape</code></em></b></span></dt><dd><p>One of the following element shape options:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">ANYSHAPE</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Any shape (that is, no specified
shape). This value is the default. (The <a href="../ans_mod/Hlp_G_MOD7_3.html#aSaQxq53mcm" class="olink">ANSYS MeshTool</a> is unavailable.)</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">POINT</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Point.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">LINE</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Straight line.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">TRIAN</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Triangle.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">QUAD</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Quadrilateral. This shape can be
degenerated to a triangle.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">TET</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Tetrahedron.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">BRICK</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Brick. This shape can be degenerated
to a wedge, pyramid, or tetrahedron.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>NREAL</code></em></b></span></dt><dd><p>The number of real constants.</p></dd><dt><span><b class="term"><em class="replaceable"><code>NSAVEVARS</code></em></b></span></dt><dd><p>The number of saved variables.</p></dd><dt><span><b class="term"><em class="replaceable"><code>NRSLTVAR</code></em></b></span></dt><dd><p>The number of variables saved in results files.</p></dd><dt><span><b class="term"><em class="replaceable"><code>KEYANSMAT</code></em></b></span></dt><dd><p>Key for element formulation control:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">0</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Create your own material codes within
the element formulation. In this case, the real constants are available
to input material properties. You can also input linear material properties
via <a class="link" href="Hlp_C_MP.html" title="MP"><span class="command"><strong>MP</strong></span></a> and <a class="link" href="Hlp_C_MPDATA.html" title="MPDATA"><span class="command"><strong>MPDATA</strong></span></a> commands .</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">1</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Use ANSYS standard material routines
or the <code class="function">USERMAT</code> subroutine to form structural
material data. ANSYS material properties must be input in the standard
way (as you would for non-user-defined elements). This value is invalid
when <span class="italic"><em>KeyShape</em></span> = ANYSHAPE.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>NINTPNTS</code></em></b></span></dt><dd><p>The maximum number of integration points (used when <em class="replaceable"><code>KEYANSMAT</code></em> = 1).</p></dd><dt><span><b class="term"><em class="replaceable"><code>KESTRESS</code></em></b></span></dt><dd><p>Key for the element stress state (used when <em class="replaceable"><code>KEYANSMAT</code></em> = 1):</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">0</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Plane stress elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">1</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Axisymmetric elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">2</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Plane strain elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">3</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>3-D solid elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">4</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>3-D solid-shell elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">5</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Generalized plane strain elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">6</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Beam elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">7</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Link/truss elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">8</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>3-D shell elements.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">9</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Axisymmetric shell elements.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>KEYSYM</code></em></b></span></dt><dd><p>Key for specifying whether element stiffness matrices
are symmetric or unsymmetric:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">0</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Symmetric. </p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">1</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Unsymmetric.</p></td></tr></tbody></table></div></div></dd></dl></div></div></div><div class="refsect1" title="Notes"><a name="d0e287972"></a><h2>Notes</h2><p>The <span class="command"><strong>USRELEM</strong></span> command specifies the characteristics
of the user-defined element <a href="../ans_elem/Hlp_E_USER300.html" class="olink"><span class="structname">USER300</span></a>. </p><p>Although you can intersperse other commands as necessary for
your analysis, issue the <span class="command"><strong>USRELEM</strong></span> command as part
of the following <span class="italic"><em>general sequence</em></span> of commands:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Issue the <a class="link" href="Hlp_C_ET.html" title="ET"><span class="command"><strong>ET</strong></span></a> command for element <a href="../ans_elem/Hlp_E_USER300.html" class="olink"><span class="structname">USER300</span></a>, followed by the related <a class="link" href="Hlp_C_TYPE.html" title="TYPE"><span class="command"><strong>TYPE</strong></span></a> command.</p></li><li class="listitem"><p>Issue both the <span class="command"><strong>USRELEM</strong></span> and <a class="link" href="Hlp_C_USRDOF.html" title="USRDOF"><span class="command"><strong>USRDOF</strong></span></a> commands (in either order).</p></li><li class="listitem"><p>Define your element using <a href="../ans_elem/Hlp_E_USER300.html" class="olink"><span class="structname">USER300</span></a>.</p></li></ol></div><p>The number of real constants (<em class="replaceable"><code>NREAL</code></em>) can refer to geometry quantities, material quantities, or any parameters
for element formulation.</p><p>ANSYS saves variables in the <span class="filename"><strong>.esav</strong></span> file
to preserve element data when you specify a positive <em class="replaceable"><code>NSAVEVARS</code></em> value. When <em class="replaceable"><code>KEYANSMAT</code></em> = 0, all variables of both material and kinematic formulation are
saved. When <em class="replaceable"><code>KEYANSMAT</code></em> = 1, only the variables
for kinematic formulation (such as deformation gradient tensor) are
saved; in this case, the material routine saves all necessary material
data automatically. </p><p>Element data saved in results files (<em class="replaceable"><code>NRSLTVAR</code></em>) are accessible only as nonsummable miscellaneous data.  ANSYS saves
stress and total strain data for structural elements in the <span class="filename"><strong>.rst</strong></span> file automatically (as it does for equivalent variables
such as thermal gradient and thermal flux in thermal elements); therefore, <em class="replaceable"><code>NRSLTVAR</code></em> does not need to include stress and total
strain data.</p><p>To learn more about creating user-defined elements, see <a href="../ans_prog/Hlp_P_UPFNEWEL.html" class="olink">Creating a New Element</a> in the <a href="../ans_prog/ans_prog.html" class="olink"><em class="citetitle">Programmer's Reference</em></a>.</p></div><div class="refsect1" title="Menu Paths"><a name="d0e288063"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>This command cannot be accessed from a menu.</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>