<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:39:51-04:00"><title>MXPAND</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_M_TOC.html" title="M Commands"><link rel="prev" href="Hlp_C_MWRITE_st.html" title="*MWRITE"><link rel="next" href="Hlp_N_TOC.html" title="N Commands"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="MXPAND"><a name="MXPAND"></a><div class="titlepage"></div><a class="indexterm" name="d0e175603"></a><span class="refentrytitle"><span class="command"><strong>MXPAND</strong></span></span><div class="refnamediv"><p><span class="command"><strong>MXPAND</strong></span>, <em class="replaceable"><code>NMODE</code></em>, <em class="replaceable"><code>FREQB</code></em>, <em class="replaceable"><code>FREQE</code></em>, <em class="replaceable"><code>Elcalc</code></em>, <em class="replaceable"><code>SIGNIF</code></em>, <em class="replaceable"><code>MSUPkey</code></em>, <em class="replaceable"><code>ModeSelMethod</code></em><br><b class="refpurpose">Specifies the number of modes to expand and write for
a modal or buckling analysis.</b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_6.html" title="2.6.&nbsp;SOLUTION Commands"><code class="classname">SOLUTION</code></a>: <a class="link" href="Hlp_C_CH2_6.html#cmdsoludynoptjla070199" title="Table&nbsp;2.51:&nbsp;&nbsp;Dynamic Options"><span class="type">Dynamic Options</span></a></span></div></div> <div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_6.html" title="2.6.&nbsp;SOLUTION Commands"><code class="classname">SOLUTION</code></a>: <a class="link" href="Hlp_C_CH2_6.html#cmdsolunonlinjla070199" title="Table&nbsp;2.50:&nbsp;&nbsp;Nonlinear Options"><span class="type">Nonlinear Options</span></a></span></div></div></div><div class="refclass"><div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  DesSpc | Pro | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</span></div></div></div></p></div><div class="refsynopsisdiv" title="Synopsis"><a name="MXPAND.argdescript"></a><h2></h2><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>NMODE</code></em></b></span></dt><dd><p>Number of modes or array name (enclosed in percent
signs) to expand and write. If blank or ALL, expand and write all
modes within the frequency range specified. If -1, do not expand and
do not write modes to the results file during the analysis. If an
array name is input, the array must contain 1 for the expanded modes
and zero otherwise, where the array index corresponds to the mode
number. To specify an array containing the individual modes to expand,
enclose the array name in percent (%) signs (for example, <span class="command"><strong>MXPAND</strong></span>,%arrname%). Use the <a href="Hlp_C_DIM.html" class="olink"><span class="command"><strong>*DIM</strong></span></a> command
to define the array.</p></dd><dt><span><b class="term"><em class="replaceable"><code>FREQB</code></em></b></span></dt><dd><p>Beginning, or lower end, of frequency range of interest.
If <em class="replaceable"><code>FREQB</code></em> and <em class="replaceable"><code>FREQE</code></em> are both blank, expand and write the number of modes specified without
regard to the frequency range. Defaults to the entire range.</p></dd><dt><span><b class="term"><em class="replaceable"><code>FREQE</code></em></b></span></dt><dd><p>Ending, or upper end, of frequency range of interest.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Elcalc</code></em></b></span></dt><dd><p>Element calculation key:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">NO</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Do not calculate element results, reaction
forces, and energies (default).</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">YES</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Calculate element results, reaction
forces, energies, and the nodal degree of freedom solution.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>SIGNIF</code></em></b></span></dt><dd><p>Expand only those modes whose significance level exceeds
the <em class="replaceable"><code>SIGNIF</code></em> threshold (only applicable when <em class="replaceable"><code>ModeSelMethod</code></em> is defined).</p><p>If <em class="replaceable"><code>ModeSelMethod</code></em> = MODC, the significance level of a mode
is defined as the mode coefficient of the mode, divided by the maximum
mode coefficient of all modes. </p><p>If <em class="replaceable"><code>ModeSelMethod</code></em> = MODM, the significance
level of a mode is defined as the modal effective mass, divided by
the total mass. </p><p>If <em class="replaceable"><code>ModeSelMethod</code></em> = DDAM, the significance
level of a mode is defined as the modal effective weight, divided
by the total weight.</p><p>Any mode whose significance level is less than <em class="replaceable"><code>SIGNIF</code></em> is considered insignificant and is not expanded.
The higher the <em class="replaceable"><code>SIGNIF</code></em> threshold, the fewer
the number of modes expanded. <em class="replaceable"><code>SIGNIF</code></em> defaults
to 0.001, except for the case of DDAM mode selection method where
it defaults to 0.01. If <em class="replaceable"><code>SIGNIF</code></em> is specified
as 0.0, it is taken as 0.0. </p></dd><dt><span><b class="term"><em class="replaceable"><code>MSUPkey</code></em></b></span></dt><dd><p>Element result superposition key:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">NO</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Do not write element results to the
mode file <span class="filename"><strong>Jobname.MODE</strong></span>. </p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">YES</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write element result to the mode file
for use in the expansion pass of a subsequent mode-superposition PSD,
transient, or harmonic analysis (default if <em class="replaceable"><code>Elcalc</code></em> = YES and the mode shapes are normalized to the mass matrix).</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>ModeSelMethod</code></em></b></span></dt><dd><p>Methods for mode selection (not supported for complex
eigensolvers): </p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">blank</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>No mode selection is performed (default). </p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">MODM</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>The mode selection is based on the
modal effective masses.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">MODC</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>The mode selection is based on the
mode coefficients.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">DDAM</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>The mode selection is based on DDAM procedure (see <a href="../ans_str/Hlp_G_STR_SMSUP.html#strModSelBasDD" class="olink">Mode Selection Based on the DDAM Procedure in the <span class="olinkdocname">Mechanical APDL Structural Analysis Guide</span></a> for more information). </p></td></tr></tbody></table></div></div></dd></dl></div></div></div><div class="refsect1" title="Command Default"><a name="MXPAND.default"></a><h2>Command Default</h2><p>Mode shapes (displacements) are expanded and output to the results
file (so that if you need to inspect the mode shapes, it is not necessary
to run the analysis again). Element stresses are not expanded. </p></div><div class="refsect1" title="Notes"><a name="MXPAND.notes"></a><h2>Notes</h2><p>Specifies the number of modes to expand and write over a frequency
range for a modal (<a class="link" href="Hlp_C_ANTYPE.html" title="ANTYPE"><span class="command"><strong>ANTYPE</strong></span></a>,MODAL) or buckling (<a class="link" href="Hlp_C_ANTYPE.html" title="ANTYPE"><span class="command"><strong>ANTYPE</strong></span></a>,BUCKLE) analysis. If used in SOLUTION, this command
is valid only within the first load step.</p><p>There is no limit on the number of expanded modes (<em class="replaceable"><code>NMODE</code></em>). However, there <span class="italic"><em>is</em></span> a limit on the maximum number of modes used via the <a href="Hlp_C_GET.html" class="olink"><span class="command"><strong>*GET</strong></span></a>,,<a href="Hlp_C_GET.html#get.sol.mode" class="olink">MODE</a> command, <a href="../ans_str/Hlp_G_STR6_8.html#avcr12elcd" class="olink">mode combinations</a>, and the <a class="link" href="Hlp_C_MDAMP.html" title="MDAMP"><span class="command"><strong>MDAMP</strong></span></a> command.</p><p>With <em class="replaceable"><code>MSUPkey</code></em> = YES, the computed
element results (<em class="replaceable"><code>Elcalc</code></em> = YES) are written
to <span class="filename"><strong>Jobname.MODE</strong></span> for use in subsequent downstream
mode-superposition analyses, including harmonic, transient, and PSD
analyses. This significantly reduces computation time for the combination
or expansion passes. For limitations, see <a href="../ans_str/Hlp_G_STR3_6.html#stroptmxpatlm71699" class="olink">Option: Number of Modes to Expand (<span class="command"><strong>MXPAND</strong></span>) in the <span class="olinkdocname">Mechanical APDL Structural Analysis Guide</span></a>.</p><p>If a mode selection method (<em class="replaceable"><code>ModeSelMethod</code></em>) is defined, only the selected modes will be expanded. See <a href="../ans_str/Hlp_G_STR_SMSUP.html#strUseModSel" class="olink">Using Mode Selection in the <span class="olinkdocname">Mechanical APDL Structural Analysis Guide</span></a> for more details about the procedure.</p><p>For array input (<em class="replaceable"><code>NMODE</code></em>), the array
must be dimensioned to be the size of the number of modes extracted
(<em class="replaceable"><code>NMODE</code></em> on the <a class="link" href="Hlp_C_MODOPT.html" title="MODOPT"><span class="command"><strong>MODOPT</strong></span></a> command). A value of 1 in the array indicates the mode is to be
expanded, and a value of 0 indicates not to expand the mode. For the
DAMP modal solution, the modes are in pairs, so be sure to verify
that both modes of a pair have the same value. (For example, if modes
#3 and #4 are a pair, indices 3 and 4 in the array should have the
same value, 0 or 1.)</p><p>For <a href="../ans_str/strlinperturb.html" class="olink">linear
perturbation</a> modal analyses, you must set both <em class="replaceable"><code>Elcalc</code></em> and <em class="replaceable"><code>MSUPkey</code></em> to YES
so that the downstream stress expansion pass can produce a solution
consistent with the linear or nonlinear base (static or full transient)
analysis. The prestressed nonlinear element history (saved variables)
is accessible only in the first and second phases of the linear perturbation.
The downstream MSUP or PSD analysis can only reuse the nonlinear information
contained in the <span class="filename"><strong>Jobname.MODE</strong></span> file that is generated
in the linear perturbation.</p><p>In a Distributed ANSYS analysis, you must issue <span class="command"><strong>MXPAND</strong></span> to specify the number of modes to expand when computing the modes
and mode shapes. In a Distributed ANSYS run, <span class="command"><strong>MXPAND</strong></span> cannot be issued in an expansion pass (<a class="link" href="Hlp_C_EXPASS.html" title="EXPASS"><span class="command"><strong>EXPASS</strong></span></a>).</p><p>This command is also valid in PREP7.</p></div><div class="refsect1" title="Menu Paths"><a name="MXPAND.menupath"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>Main Menu&gt;Preprocessor&gt;Loads&gt;Analysis Type&gt;Analysis Options</strong></span></td></tr><tr><td><span class="guimenu"><strong>Main Menu&gt;Preprocessor&gt;Loads&gt;Load Step Opts&gt;ExpansionPass&gt;Single Expand&gt;Expand Modes</strong></span></td></tr><tr><td><span class="guimenu"><strong>Main Menu&gt;Solution&gt;Analysis Type&gt;Analysis Options</strong></span></td></tr><tr><td><span class="guimenu"><strong>Main Menu&gt;Solution&gt;Load Step Opts&gt;ExpansionPass&gt;Single Expand&gt;Expand Modes</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>