<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:39:24-04:00"><title>HBMAT</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_H_TOC.html" title="H Commands"><link rel="prev" href="Hlp_C_HBC.html" title="/HBC"><link rel="next" href="Hlp_C_HEADER.html" title="/HEADER"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="HBMAT"><a name="HBMAT"></a><div class="titlepage"></div><a class="indexterm" name="d0e132342"></a><span class="refentrytitle"><span class="command"><strong>HBMAT</strong></span></span><div class="refnamediv"><p><span class="command"><strong>HBMAT</strong></span>, <em class="replaceable"><code>Fname</code></em>, <em class="replaceable"><code>Ext</code></em>, <em class="replaceable"><code>--</code></em>, <em class="replaceable"><code>Form</code></em>, <em class="replaceable"><code>Matrx</code></em>, <em class="replaceable"><code>Rhs</code></em>, <em class="replaceable"><code>Mapping</code></em><br><b class="refpurpose">Writes an assembled global matrix in Harwell-Boeing format.</b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_9.html" title="2.9.&nbsp;AUX2 Commands"><code class="classname">AUX2</code></a>: <a class="link" href="Hlp_C_CH2_9.html#tabaux2man" title="Table&nbsp;2.102:&nbsp;&nbsp;Binary File Manipulation"><span class="type">Binary File Manipulation</span></a></span></div></div></div><div class="refclass"><div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  &#8211; | Pro | Premium | Enterprise | Ent PP | Ent Solver | DYNA</span></div></div></div></p></div><div class="refsynopsisdiv" title="Synopsis"><a name="HBMAT.argdescript"></a><h2></h2><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Fname</code></em></b></span></dt><dd><p>File name and directory path (248 characters maximum, including the characters needed for the directory path).  An unspecified directory path defaults to the working directory; in this case, you can use all 248 characters for the file name. </p><p>Defaults to the current Jobname if left
blank.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Ext</code></em></b></span></dt><dd><p>Filename extension (eight-character maximum).</p><p>Defaults to <span class="filename"><strong>.MATRIX</strong></span> if left blank.</p></dd><dt><span><b class="term"><em class="replaceable"><code>--</code></em></b></span></dt><dd><p>Unused field.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Form</code></em></b></span></dt><dd><p>Specifies format of output matrix file:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">ASCII</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write output matrix file in ASCII
form.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">BIN</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write output matrix file in binary
form.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>Matrx</code></em></b></span></dt><dd><p>Specify which matrix to write to the output matrix
file:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">STIFF</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write stiffness matrix to output
matrix file.  Valid for all types of analyses that write a <span class="filename"><strong>.FULL</strong></span> file.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">MASS</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write mass matrix to output matrix
file.  Valid for buckling, substructure, and modal analyses.  If <span class="filename"><strong>.FULL</strong></span> file was generated in a buckling analysis, then
this label will write stress stiffening matrix to output matrix file.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">DAMP</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write damping matrix to output matrix
file.  Only valid for damped modal analyses.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>Rhs</code></em></b></span></dt><dd><p>Specifies whether to write the right-hand side vector
to output matrix file:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">YES</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write right-hand side vector to output
matrix file.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">NO</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Do not write right-hand side vector
to output matrix file.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>Mapping</code></em></b></span></dt><dd><p>Specifies whether to write the mapping file. This
file is always named <span class="filename"><strong><em class="replaceable"><code>Fname</code></em>.MAPPING</strong></span>.</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">YES</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Write the mapping file.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">NO</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Do not write the mapping file (default).</p></td></tr></tbody></table></div></div></dd></dl></div></div></div><div class="refsect1" title="Command Default"><a name="HBMAT.default"></a><h2>Command Default</h2><p>By default, assuming a proper filename and extension have been
entered, writes the stiffness matrix and right-hand side vector to <span class="filename"><strong>jobname.MATRIX</strong></span> in the current working directory in ASCII
format.</p></div><div class="refsect1" title="Notes"><a name="HBMAT.notes"></a><h2>Notes</h2><p>This command is used to copy a matrix from the assembled global
matrix file (<span class="filename"><strong>.FULL</strong></span> file) or from the superelement
matrix file (<span class="filename"><strong>.SUB</strong></span> file) as specified on the <a class="link" href="Hlp_C_FILEAUX2.html" title="FILEAUX2"><span class="command"><strong>FILEAUX2</strong></span></a> command and write it in Harwell-Boeing format
to a new file, named <span class="filename"><strong>jobname.MATRIX</strong></span>.  The Harwell-Boeing
format is widely used by other applications that deal with matrices.</p><p>The assembled global matrix file is created during solution
depending on the analysis type, equation solver, and other solution
options.  By default, the assembled global matrix file is never deleted
at the end of solution. For most analysis types, the Sparse direct
solver and the ICCG solver will write a <span class="filename"><strong>.FULL</strong></span> file. All mode extraction methods used for buckling and modal analyses
will write a properly formatted <span class="filename"><strong>.FULL</strong></span> file to
be used with the <span class="command"><strong>HBMAT</strong></span> command. However, when using Distributed ANSYS,
a majority of analyses will write a distributed (or local) form of
the <span class="filename"><strong>.FULL</strong></span> file which is not currently supported
by the <span class="command"><strong>HBMAT</strong></span> command.</p><p>When dumping the stiffness matrix for transient and harmonic
analyses, be aware that the element mass matrix values (and possibly
element damping matrix values) are incorporated into the globally
assembled stiffness matrix.  Thus, the globally assembled stiffness
matrix represents more than the stiffness of the model for these analysis
types.  Please refer to the <a href="../ans_thry/ans_thry.html" class="olink"><em class="citetitle">Mechanical APDL Theory Reference</em></a> for more details.</p><p>When dumping a <span class="filename"><strong>.FULL</strong></span> file, the rows and
columns corresponding to specified constraints (e.g., <a class="link" href="Hlp_C_D.html" title="D"><span class="command"><strong>D</strong></span></a> commands) are eliminated from the system of equations and therefore
are not written to the <span class="filename"><strong>.MATRIX</strong></span> file. Also, rows
and columns corresponding to eliminated (slave) degrees of freedom
from coupling and/or constraint equations (e.g., <a class="link" href="Hlp_C_CE.html" title="CE"><span class="command"><strong>CE</strong></span></a>, <a class="link" href="Hlp_C_CP.html" title="CP"><span class="command"><strong>CP</strong></span></a> commands) are also eliminated from the system
of equations and are not written to the <span class="filename"><strong>.MATRIX</strong></span> file. The DOFs that are eliminated from any coupling and/or constraint
equations are determined internally by the solution code and may not
match what you specified via the <a class="link" href="Hlp_C_CE.html" title="CE"><span class="command"><strong>CE</strong></span></a>/<a class="link" href="Hlp_C_CP.html" title="CP"><span class="command"><strong>CP</strong></span></a> (or similar) commands.</p><p>When dumping a <span class="filename"><strong>.SUB</strong></span> file, the full <em class="replaceable"><code>n</code></em>x<em class="replaceable"><code>n</code></em> matrix will be written
to the <span class="filename"><strong>.MATRIX</strong></span> file for either symmetric or unsymmetric
matrices, regardless of whether any of the matrix coefficients are
zero-valued. When dumping a <span class="filename"><strong>.FULL</strong></span> file, only
the lower triangular part of the matrix will be written to the <span class="filename"><strong>.MATRIX</strong></span> file if the matrix is symmetric; the full matrix
is written if the matrix is unsymmetric. Only matrix coefficients
that are greater than zero will be written.</p><p>The Harwell-Boeing format is column-oriented.  That is, non-zero
matrix values are stored with their corresponding row indices in a
sequence of columns.  However, since the ANSYS matrix files are stored
by row and not column, when the <span class="command"><strong>HBMAT</strong></span> command is
used with a non-symmetric matrix, the transpose of the matrix is,
in fact, written.</p><p>The <a class="link" href="Hlp_C_WRFULL.html" title="WRFULL"><span class="command"><strong>WRFULL</strong></span></a> command, in conjunction with the <a class="link" href="Hlp_C_SOLVE.html" title="SOLVE"><span class="command"><strong>SOLVE</strong></span></a> command, can be used to generate the assembled global
matrix file and eliminate the equation solution process and results
output process.  </p><p>The mapping file can be used to map the matrix equation numbers
found in the <span class="filename"><strong>.MATRIX</strong></span> file directly to the corresponding
node numbers and degrees of freedom.</p><p>When dumping a CMS <span class="filename"><strong>.SUB</strong></span> file, the last
rows/columns of the matrix are non-physical degrees of freedom added
internally by the <a href="../ans_substr/advcms.html" class="olink">CMS process</a> and cannot be mapped directly to a node number
or particular degree of freedom.</p></div><div class="refsect1" title="Menu Paths"><a name="HBMAT.menupath"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>Utility Menu&gt;File&gt;List&gt;Binary Files</strong></span></td></tr><tr><td><span class="guimenu"><strong>Utility Menu&gt;List&gt;Files&gt;Binary Files</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>