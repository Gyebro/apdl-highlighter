<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:41:16-04:00"><title>SPMWRITE</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_S_TOC.html" title="S Commands"><link rel="prev" href="Hlp_C_SPLOT.html" title="SPLOT"><link rel="next" href="Hlp_C_SPOINT.html" title="SPOINT"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="SPMWRITE"><a name="SPMWRITE"></a><div class="titlepage"></div><a class="indexterm" name="d0e257903"></a><span class="refentrytitle"><span class="command"><strong>SPMWRITE</strong></span></span><div class="refnamediv"><p><span class="command"><strong>SPMWRITE</strong></span>, <em class="replaceable"><code>Method</code></em>, <em class="replaceable"><code>NMODE</code></em>, <em class="replaceable"><code>Inputs</code></em>, <em class="replaceable"><code>InputLabels</code></em>, <em class="replaceable"><code>Outputs</code></em>, <em class="replaceable"><code>OutputLabels</code></em>, <em class="replaceable"><code>NIC</code></em>, <em class="replaceable"><code>VelAccKey</code></em>, <em class="replaceable"><code>FileFormat</code></em><br><b class="refpurpose">Calculates the state-space matrices and writes them to
the SPM file. </b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_7.html" title="2.7.&nbsp;POST1 Commands"><code class="classname">POST1</code></a>: <a class="link" href="Hlp_C_CH2_7.html#cmdpost1sppurpjla070199" title="Table&nbsp;2.91:&nbsp;&nbsp;Special Purpose"><span class="type">Special Purpose</span></a></span></div></div></div><div class="refclass"><div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  &#8211; | &#8211; | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</span></div></div></div></p></div><div class="refsynopsisdiv" title="Synopsis"><a name="SPMWRITE.argdescript"></a><h2></h2><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Method</code></em></b></span></dt><dd><p>Reduction method for the calculation of the state-space
matrices. </p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>MODAL</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Method based on modal analysis results from
LANB, LANPCG, SNODE, or SUBSP eigensolver (default).</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>NMODE</code></em></b></span></dt><dd><p>Number of modes to be used. Defaults to all modes.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Inputs</code></em></b></span></dt><dd><p>Definition of the inputs. Defaults to all load vectors
on the MODE file.</p><p>If an integer is entered, it specifies
the number of load vectors from the MODE file used for the definition
of the inputs.  The first <em class="replaceable"><code>Inputs</code></em> load vectors
are used.</p><p>If <em class="replaceable"><code>Inputs</code></em> is an array parameter,
the first column is the node number and the second column is the structural
degree of freedom (1=UX, 2=UY, 3=UZ, 4=ROTX, 5=ROTY, 6=ROTZ) indicating
input points. The number of rows in the array parameter is equal to
the number of inputs.</p></dd><dt><span><b class="term"><em class="replaceable"><code>InputLabels</code></em></b></span></dt><dd><p>Definition of the input labels. Defaults to the load
vector numbers or input definition (node and degree of freedom array
parameter),  depending on the <em class="replaceable"><code>Inputs</code></em> specification.</p><p>If a character array parameter is entered (Type=CHAR in the <a href="Hlp_C_DIM.html" class="olink"><span class="command"><strong>*DIM</strong></span></a> command), each 8 character string represents an input
label. Only valid when <em class="replaceable"><code>Inputs</code></em> is an array
parameter</p></dd><dt><span><b class="term"><em class="replaceable"><code>Outputs</code></em></b></span></dt><dd><p>Definition of the outputs. Defaults to the inputs.</p><p>If an array parameter is entered, the first column is the node
number and the second column is the structural degree of freedom (1=UX,
2=UY, 3=UZ, 4=ROTX, 5=ROTY, 6=ROTZ) of the output points. The number
of rows in the array parameter is equal to the number of outputs.</p></dd><dt><span><b class="term"><em class="replaceable"><code>OutputLabels</code></em></b></span></dt><dd><p>Definition of the output labels. Defaults to the output
definition (node and degree of freedom) if used, else defaults to
the <em class="replaceable"><code>InputLabels</code></em>.</p><p>If a character
array parameter is entered (Type=CHAR in the *DIM command), each 8
character string represents an output label. </p></dd><dt><span><b class="term"><em class="replaceable"><code>NIC</code></em></b></span></dt><dd><p>Load vector on the <em class="replaceable"><code>MODE</code></em> file used for the calculation of the initial conditions. Defaults
to no initial condition.</p></dd><dt><span><b class="term"><em class="replaceable"><code>VelAccKey </code></em></b></span></dt><dd><p>Output velocities and accelerations key.</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>OFF</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Output
displacements only (default).</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>ON</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Output displacements,
velocities and accelerations.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>FileFormat</code></em></b></span></dt><dd><p>The format of the SPM file.</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>0</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Dense format.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>1</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Matrix Market
Exchange format (non-zero terms only).</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>2</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Simplorer
SML format without reference (default).</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>3</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Simplorer
SML format with common reference.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term"><em class="replaceable"><code>4</code></em></b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Simplorer
SML format with independent references.</p></td></tr></tbody></table></div></div></dd></dl></div></div></div><div class="refsect1" title="Notes"><a name="SPMWRITE.notes"></a><h2>Notes</h2><p>The SPMWRITE generates the file Jobname.SPM containing the state-space
matrices and other information. </p><p>The following applies to the SML formats (FileFormat = 2, 3,
and 4):</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>For conservative systems where the outputs are equal
to the inputs (<em class="replaceable"><code>Outputs</code></em> is left blank):</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>The labels for the inputs (<em class="replaceable"><code>InputLabels</code></em>) are required. </p></li><li class="listitem"><p>The <em class="replaceable"><code>Inputs</code></em> must use the
array parameter option so that the input degrees of freedom (DOFs)
are known.</p></li></ul></div></li><li class="listitem"><p>For non-conservative systems where the outputs are
not equal to the inputs:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>The labels for the outputs (<em class="replaceable"><code>OutputLabels</code></em>) are required. </p></li><li class="listitem"><p>The file formats with references (<em class="replaceable"><code>FileFormat</code></em> = 3 and 4) do not apply. </p></li></ul></div></li><li class="listitem"><p>Velocity and acceleration results are not included
in the state-space matrices calculation (VelAccKey = OFF)</p></li><li class="listitem"><p>File format with common reference (FileFormat = 3)
does not apply if the inputs are based on DOFs of a different nature.
 All input DOFs must be either all rotational or all translational
and not a mix of the two.</p></li><li class="listitem"><p>A graphics file (Jobname_SPM.PNG) is generated. It
contains an element plot of the model.</p></li></ul></div><p>For more details about the reduction method and the generation
of the state-space matrices, see <a href="../ans_thry/thystatespacemat.html" class="olink">Reduced-Order Modeling for State-Space Matrices Export</a> in the <a href="../ans_thry/ans_thry.html" class="olink"><em class="citetitle">Mechanical APDL Theory Reference</em></a>.</p><p>For examples of the command usage, see <a href="../ans_adv/Hlp_G_ADV16.html" class="olink">State-Space Matrices Export</a>.</p></div><div class="refsect1" title="Menu Paths"><a name="SPMWRITE.menupath"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>This command cannot be accessed from a menu.</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>