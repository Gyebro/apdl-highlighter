<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:39:46-04:00"><title>MODOPT</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_M_TOC.html" title="M Commands"><link rel="prev" href="Hlp_C_MODSELOPTION.html" title="MODSELOPTION"><link rel="next" href="Hlp_C_MONITOR.html" title="MONITOR"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="MODOPT"><a name="MODOPT"></a><div class="titlepage"></div><a class="indexterm" name="d0e167696"></a><span class="refentrytitle"><span class="command"><strong>MODOPT</strong></span></span><div class="refnamediv"><p><span class="command"><strong>MODOPT</strong></span>,
    <em class="replaceable"><code>Method</code></em>, <em class="replaceable"><code>NMODE</code></em>,
    <em class="replaceable"><code>FREQB</code></em>, <em class="replaceable"><code>FREQE</code></em>,
    <em class="replaceable"><code>Cpxmod</code></em>, <em class="replaceable"><code>Nrmkey</code></em>,
    <em class="replaceable"><code>ModType</code></em>, <em class="replaceable"><code>BlockSize</code></em>,
    <em class="replaceable"><code>--</code></em>, <em class="replaceable"><code>--</code></em>, <em class="replaceable"><code>--</code></em>,
    <em class="replaceable"><code>FREQMOD</code></em><br><b class="refpurpose">Specifies modal analysis options.</b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_6.html" title="2.6.&nbsp;SOLUTION Commands"><code class="classname">SOLUTION</code></a>: <a class="link" href="Hlp_C_CH2_6.html#cmdsoludynoptjla070199" title="Table&nbsp;2.51:&nbsp;&nbsp;Dynamic Options"><span class="type">Dynamic Options</span></a></span></div></div></div><div class="refclass"><div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  DesSpc | Pro | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</span></div></div><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_MODOPT.html#MODOPT.extranote1" title="Product Restrictions">Product Restrictions</a></span></div></div></div></p></div><div class="refsynopsisdiv" title="Synopsis"><a name="MODOPT.argdescript"></a><h2></h2><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Method</code></em></b></span></dt><dd><p>Mode-extraction method to be used for the modal analysis.</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">LANB</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Block Lanczos</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">LANPCG</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>PCG Lanczos</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">SNODE</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Supernode modal solver</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">SUBSP</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Subspace algorithm</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">UNSYM</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Unsymmetric matrix</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">DAMP</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Damped system</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">QRDAMP</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Damped system using QR algorithm</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">VT</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Variational Technology</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>NMODE</code></em></b></span></dt><dd><p>The number of modes to extract. The value can depend
on the value supplied for <em class="replaceable"><code>Method</code></em>. <em class="replaceable"><code>NMODE</code></em> has no default and must be specified. If <em class="replaceable"><code>Method</code></em> = LANB, LANPCG, or SNODE, the number of modes
that can be extracted can equal the DOFs in the model after the application
of all boundary conditions.</p><p><span class="italic"><em>Recommendation:</em></span>  </p><table border="0" summary="Simple list" class="simplelist"><tr><td>When <em class="replaceable"><code>Method</code></em> = LANPCG, <em class="replaceable"><code>NMODE</code></em> should be less than 100 to be computationally
efficient. </td></tr><tr><td>When <em class="replaceable"><code>Method</code></em> = SNODE, <em class="replaceable"><code>NMODE</code></em> should be greater than 100 for 2-D plane or 3-D
shell/beam models and greater than 250 for 3-D solid elements to be
computationally efficient.</td></tr></table></dd><dt><span><b class="term"><em class="replaceable"><code>FREQB</code></em></b></span></dt><dd><p>The beginning, or lower end, of the frequency range <span>(or
       eigenvalue range if <em class="replaceable"><code>FREQMOD</code></em> is specified)</span> of
      interest.</p><p>For <em class="replaceable"><code>Method</code></em> = LANB,
SUBSP, UNSYM, DAMP, and QRDAMP, <em class="replaceable"><code>FREQB</code></em> also
represents the first shift point for the eigenvalue iterations. If
values for UNSYM or DAMP are zero or blank, the default value is -1.0.
For the other methods, the default is internally computed. Eigenvalue
extraction is most accurate near the shift point; multiple shift points
are used internally in the LANB, SUBSP, UNSYM, and QRDAMP methods.
 For LANB, LANPCG, SUBSP, UNSYM, DAMP, and QRDAMP methods with a positive <em class="replaceable"><code>FREQB</code></em>, eigenvalues are output beginning at the shift
point and increase in magnitude. For UNSYM and DAMP methods with a
negative <em class="replaceable"><code>FREQB</code></em> value, eigenvalues are output
beginning at zero magnitude and increase.</p><p>Choosing higher <em class="replaceable"><code>FREQB</code></em> values with
the LANPCG and SNODE methods may lead to inefficient solution times
because these methods will find all eigenvalues between zero and <em class="replaceable"><code>FREQB</code></em> before finding the requested modes between <em class="replaceable"><code>FREQB</code></em> and <em class="replaceable"><code>FREQE</code></em>.</p></dd><dt><span><b class="term"><em class="replaceable"><code>FREQE</code></em></b></span></dt><dd><p>The ending, or upper end, of the frequency range <span>(or eigenvalue
       range if <em class="replaceable"><code>FREQMOD</code></em> is specified)</span> of interest (in Hz). The
      default for <em class="replaceable"><code>Method</code></em> = SNODE is described below. The default for all
      other methods is to calculate all modes, regardless of their maximum frequency.</p><p>The default is 100 Hz for <em class="replaceable"><code>Method</code></em> = SNODE. To
      maintain solution efficiency, you should not set the <em class="replaceable"><code>FREQE</code></em> value
      too high; for example, not higher than 5000 Hz for an industrial problem. The higher the
       <em class="replaceable"><code>FREQE</code></em> value used for the SNODE method, the more accurate the
      solution will be and the more eigenvalues it could produce; but the solution time will also be
      longer. For example, if <em class="replaceable"><code>FREQE</code></em> is set to 1e8, it will cause the
      underlying supernodal structures to find all the possible eigenvalues of each group of
      supernodes; hence, it will take an excessive amount of solution time. The accuracy of the
      SNODE solution is controlled by both <em class="replaceable"><code>FREQE</code></em> and the
       <em class="replaceable"><code>RangeFact</code></em> value on the <a class="link" href="Hlp_C_SNOPTION.html" title="SNOPTION"><span class="command"><strong>SNOPTION</strong></span></a> command. Refer
      to <a class="link" href="Hlp_C_SNOPTION.html" title="SNOPTION"><span class="command"><strong>SNOPTION</strong></span></a> for more information on using the SNODE eigensolver options to
      control solution efficiency and accuracy.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Cpxmod</code></em></b></span></dt><dd><p>Complex eigenmode key. (Valid
only when <em class="replaceable"><code>Method</code></em> = QRDAMP or <em class="replaceable"><code>Method</code></em> = UNSYM).</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">AUTO</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Determine automatically if the eigensolutions
are real or complex and output them accordingly. This is the default
for <em class="replaceable"><code>Method</code></em> = UNSYM. Not supported for <em class="replaceable"><code>Method</code></em> = QRDAMP.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">ON or CPLX</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Calculate and output complex
eigenmode shapes.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">OFF or REAL</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Do not calculate complex eigenmode
shapes. This is required if a mode-superposition analysis is intended
after the modal analysis for <em class="replaceable"><code>Method</code></em> = QRDAMP.
This is the default for this method.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>Nrmkey</code></em></b></span></dt><dd><p>Mode shape normalization key:  </p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">OFF</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Normalize the mode shapes to the mass
matrix (default).</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">ON</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Normalize the mode shapes to unity
instead of to the mass matrix.  If a subsequent spectrum or mode-superposition
analysis is planned, the mode shapes should be normalized to the mass
matrix (<em class="replaceable"><code>Nrmkey</code></em> = OFF).</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>ModType</code></em></b></span></dt><dd><p>Type of modes calculated by the eigensolver. Only
applicable to the unsymmetric eigensolver.</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">Blank</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Right eigenmodes. This value is
the default.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">BOTH</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Right and left eigenmodes. The left
eigenmodes are written to <span class="filename"><strong>Jobname.LMODE</strong></span>. This
option must be activated if a mode-superposition analysis is intended.</p></td></tr></tbody></table></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>BlockSize</code></em></b></span></dt><dd><p>The block vector size to be used with the Block Lanczos
or Subspace eigensolver (used only when <em class="replaceable"><code>Method</code></em> = LANB or SUBSP). <em class="replaceable"><code>BlockSize</code></em> must be an
integer value between 0 and 16. When BlockSize = zero or blank, the
code decides the block size internally (normally, a value of 8 is
used for LANB and a value of 6 is used for SUBSP). Typically, higher <em class="replaceable"><code>BlockSize</code></em> values are more efficient under each of the
following conditions: </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>When running in out-of-core mode and there is not
enough physical memory to buffer all of the files written by the Block
Lanczos or Subspace eigensolver (and thus, the time spent doing I/O
is considerable).</p></li><li class="listitem"><p>Many modes are requested (&gt;100).</p></li><li class="listitem"><p>Higher-order solid elements dominate the model.</p></li></ul></div><p> The memory usage only slightly increases as <em class="replaceable"><code>BlockSize</code></em> is increased. It is recommended that you
use a value divisible by 4 (4, 8, 12, or 16).</p></dd><dt><span><b class="term"><em class="replaceable"><code>--</code></em></b></span></dt><dd><p>Unused field.</p></dd><dt><span><b class="term"><em class="replaceable"><code>--</code></em></b></span></dt><dd><p>Unused field.</p></dd><dt><span><b class="term"><em class="replaceable"><code>--</code></em></b></span></dt><dd><p>Unused field.</p></dd><dt><span><b class="term"><em class="replaceable"><code>FREQMOD</code></em></b></span></dt><dd><p>The specified frequency when the solved eigenvalues are no longer frequencies (for example,
      the model has the Floquet periodic boundary condition). In a modal analysis, the Floquet
      periodic boundary condition (body load FPBC) is only valid for the acoustic elements
       <a href="../ans_elem/Hlp_E_FLUID30.html" class="olink"><span class="structname">FLUID30</span></a>, <a href="../ans_elem/Hlp_E_FLUID220.html" class="olink"><span class="structname">FLUID220</span></a>, and
       <a href="../ans_elem/Hlp_E_FLUID221.html" class="olink"><span class="structname">FLUID221</span></a>.</p></dd></dl></div></div></div><div class="refsect1" title="Notes"><a name="MODOPT.notes"></a><h2>Notes</h2><p>Specifies modal analysis (<a class="link" href="Hlp_C_ANTYPE.html" title="ANTYPE"><span class="command"><strong>ANTYPE</strong></span></a>,MODAL) options. Additional options used
   only for the Supernode (SNODE) eigensolver are specified by the <a class="link" href="Hlp_C_SNOPTION.html" title="SNOPTION"><span class="command"><strong>SNOPTION</strong></span></a>
   command. Additional options used only for the Subspace (SUBSP) eigensolver are specified by the
    <a class="link" href="Hlp_C_SUBOPT.html" title="SUBOPT"><span class="command"><strong>SUBOPT</strong></span></a> command. <span>Additional options used only for
    the Block Lanczos (LANB) eigensolver are specified by the <a class="link" href="Hlp_C_LANBOPTION.html" title="LANBOPTION"><span class="command"><strong>LANBOPTION</strong></span></a> command.
    Additional options used only for the QRDAMP eigensolver are specified by the
     <a class="link" href="Hlp_C_QRDOPT.html" title="QRDOPT"><span class="command"><strong>QRDOPT</strong></span></a> command.</span>
  </p><p>If <em class="replaceable"><code>Method</code></em> = LANPCG, ANSYS automatically switches to the PCG
   solver internally for this modal analysis. You can further control the efficiency of the PCG
   solver with the <a class="link" href="Hlp_C_PCGOPT.html" title="PCGOPT"><span class="command"><strong>PCGOPT</strong></span></a> and <a class="link" href="Hlp_C_EQSLV.html" title="EQSLV"><span class="command"><strong>EQSLV</strong></span></a> commands.</p><p>For models that involve a non-symmetric element stiffness matrix,
as in the case of a contact element with frictional contact, the QRDAMP
eigensolver (<span class="command"><strong>MODOPT</strong></span>, QRDAMP) extracts modes in
the modal subspace formed by the eigenmodes from the symmetrized eigenproblem.
The QRDAMP eigensolver symmetrizes the element stiffness matrix on
the first pass of the eigensolution, and in the second pass, eigenmodes
are extracted in the modal subspace of the first eigensolution pass.
For such non-symmetric eigenproblems, you should verify the eigenvalue
and eigenmode results using the non-symmetric matrix eigensolver 
(<span class="command"><strong>MODOPT</strong></span>,UNSYM).  </p><p>The DAMP and QRDAMP options cannot be
followed by a subsequent spectrum analysis. The UNSYM method supports
spectrum analysis when eigensolutions are real.</p><p>In a modal analysis, the Floquet periodic boundary condition (body load
   FPBC) is only valid for the acoustic elements <a href="../ans_elem/Hlp_E_FLUID30.html" class="olink"><span class="structname">FLUID30</span></a>,
    <a href="../ans_elem/Hlp_E_FLUID220.html" class="olink"><span class="structname">FLUID220</span></a>, and <a href="../ans_elem/Hlp_E_FLUID221.html" class="olink"><span class="structname">FLUID221</span></a>.</p><p>This command is also valid in PREP7.</p><p class="dan" title="Distributed ANSYS Restriction"><b>Distributed ANSYS Restriction&nbsp;</b>The VT extraction method is not supported in Distributed ANSYS. All other
    extraction methods are supported. Block Lanczos, PCG Lanczos, SUBSP, UNSYM, DAMP, and QRDAMP are
    distributed eigensolvers that will run a fully distributed solution. However, the Supernode
    eigensolver is not a distributed eigensolver; therefore, you will not see the full performance
    improvements with this method that you would with a fully distributed solution.</p><div class="refsect2" title="Product Restrictions"><a name="MODOPT.extranote1"></a><h3>Product Restrictions</h3><div class="informaltable"><table border="1" width="95%"><colgroup><col width="14%" class="col1"><col width="86%" class="col2"></colgroup><tbody><tr><td><span class="bold"><strong>Command Option Method</strong></span></td><td><span class="bold"><strong>Available Products</strong></span></td></tr><tr><td>LANB</td><td>DesSpc | Pro | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</td></tr><tr><td>LANPCG</td><td>DesSpc | Pro | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</td></tr><tr><td>SNODE</td><td>&#8211; | Pro | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</td></tr><tr><td>SUBSP</td><td>DesSpc | Pro | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</td></tr><tr><td>UNSYM</td><td>&#8211; | &#8211; | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</td></tr><tr><td>DAMP</td><td>&#8211; | &#8211; | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</td></tr><tr><td>QRDAMP</td><td>&#8211; | &#8211; | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</td></tr></tbody></table></div></div></div><div class="refsect1" title="Menu Paths"><a name="MODOPT.menupath"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>Main Menu&gt;Preprocessor&gt;Loads&gt;Analysis Type&gt;Analysis Options</strong></span></td></tr><tr><td><span class="guimenu"><strong>Main Menu&gt;Solution&gt;Analysis Type&gt;Analysis Options</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>