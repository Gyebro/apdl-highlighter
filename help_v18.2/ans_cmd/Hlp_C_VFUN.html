<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:41:51-04:00"><title>*VFUN</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_V_TOC.html" title="V Commands"><link rel="prev" href="Hlp_C_VFSM.html" title="VFSM"><link rel="next" href="Hlp_C_VGEN.html" title="VGEN"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="*VFUN"><a name="a-VFUN"></a><div class="titlepage"></div><a class="indexterm" name="d0e292680"></a><span class="refentrytitle">
<a href="Hlp_C_VFUN.html" class="olink"><span class="command"><strong>*VFUN</strong></span></a> </span><div class="refnamediv"><p>
<span class="command"><strong>*VFUN</strong></span>, <em class="replaceable"><code>ParR</code></em>, <em class="replaceable"><code>Func</code></em>, <em class="replaceable"><code>Par1</code></em>, <em class="replaceable"><code>CON1</code></em>, <em class="replaceable"><code>CON2</code></em>, <em class="replaceable"><code>CON3</code></em>
<br><b class="refpurpose">Performs a function on a single array parameter.</b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_4.html" title="2.4.&nbsp;APDL Commands"><code class="classname">APDL</code></a>: <a class="link" href="Hlp_C_CH2_4.html#cmdapdlarrayparajla070199" title="Table&nbsp;2.21:&nbsp;&nbsp;Array Parameters"><span class="type">Array Parameters</span></a></span></div></div></div><div class="refclass">
<div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  &#8211; | Pro | Premium | Enterprise | Ent PP | Ent Solver | DYNA</span></div></div>
</div></p></div><div class="refsect1" title="Argument Descriptions"><a name="a-VFUN.argdescript"></a><h2>Argument Descriptions</h2><div><div class="variablelist"><dl><dt><span><b class="term">
<em class="replaceable"><code>ParR</code></em>
</b></span></dt><dd><p>The name of the resulting numeric array
parameter vector.  See <a href="Hlp_C_SET_st.html" class="olink"><span class="command"><strong>*SET</strong></span></a> for name restrictions.</p></dd><dt><span><b class="term">
<em class="replaceable"><code>Func</code></em>
</b></span></dt><dd><p>Function to be performed:</p><div><div class="variablelist"><dl><dt><span><b class="term">ACOS&nbsp;--&nbsp;</b></span></dt><dd><p>Arccosine: ACOS(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">ASIN&nbsp;--&nbsp;</b></span></dt><dd><p>Arcsine: ASIN(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">ASORT&nbsp;--&nbsp;</b></span></dt><dd><p>Par1 is sorted in ascending
order.  <a href="Hlp_C_VCOL.html" class="olink"><span class="command"><strong>*VCOL</strong></span></a>, <a href="Hlp_C_VMASK.html" class="olink"><span class="command"><strong>*VMASK</strong></span></a>, <a href="Hlp_C_VCUM.html" class="olink"><span class="command"><strong>*VCUM</strong></span></a>,
and <a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a>,,NINC do not apply.  <a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a>,NROW
does apply.</p></dd><dt><span><b class="term">ATAN&nbsp;--&nbsp;</b></span></dt><dd><p>Arctangent: ATAN(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">COMP&nbsp;--&nbsp;</b></span></dt><dd><p>Compress:  Selectively compresses
data set.  "True" (<a href="Hlp_C_VMASK.html" class="olink"><span class="command"><strong>*VMASK</strong></span></a>) values of <em class="replaceable"><code>Par1</code></em> (or
row positions to be considered according to the <em class="replaceable"><code>NINC</code></em> value
on the <a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a> command) are written in  compressed form to <em class="replaceable"><code>ParR</code></em>,
starting at the specified position.</p></dd><dt><span><b class="term">COPY&nbsp;--&nbsp;</b></span></dt><dd><p>Copy: <em class="replaceable"><code>Par1</code></em> copied
to <em class="replaceable"><code>ParR</code></em>.</p></dd><dt><span><b class="term">COS&nbsp;--&nbsp;</b></span></dt><dd><p>Cosine: COS(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">COSH&nbsp;--&nbsp;</b></span></dt><dd><p>Hyperbolic cosine: COSH(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">DIRCOS&nbsp;--&nbsp;</b></span></dt><dd><p>Direction cosines of the
principal stresses (<em class="replaceable"><code>n</code></em>X9).  <em class="replaceable"><code>Par1</code></em> contains
the <em class="replaceable"><code>n</code></em>X6 component stresses for the <em class="replaceable"><code>n</code></em> locations of the calculations.</p></dd><dt><span><b class="term">DSORT&nbsp;--&nbsp;</b></span></dt><dd><p>
<em class="replaceable"><code>Par1</code></em> is
sorted in descending order.  <a href="Hlp_C_VCOL.html" class="olink"><span class="command"><strong>*VCOL</strong></span></a>, <a href="Hlp_C_VMASK.html" class="olink"><span class="command"><strong>*VMASK</strong></span></a>, <a href="Hlp_C_VCUM.html" class="olink"><span class="command"><strong>*VCUM</strong></span></a>,
and <a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a>,,NINC do not apply.  <a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a>,NROW
does apply.</p></dd><dt><span><b class="term">EULER&nbsp;--&nbsp;</b></span></dt><dd><p>Euler angles of the principal
stresses (<em class="replaceable"><code>n</code></em>X3).  <em class="replaceable"><code>Par1</code></em> contains
the <em class="replaceable"><code>n</code></em>X6 component stresses for the <em class="replaceable"><code>n</code></em> locations of the calculations.</p></dd><dt><span><b class="term">EXP&nbsp;--&nbsp;</b></span></dt><dd><p>Exponential: EXP(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">EXPA&nbsp;--&nbsp;</b></span></dt><dd><p>Expand:  Reverse of the COMP
function.  All elements of <em class="replaceable"><code>Par1</code></em> (starting at the
position specified) are written in expanded form to corresponding "true" (<a href="Hlp_C_VMASK.html" class="olink"><span class="command"><strong>*VMASK</strong></span></a>)
positions (or row positions to be considered according to the <em class="replaceable"><code>NINC</code></em> value
on the <a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a> command) of <em class="replaceable"><code>ParR</code></em>.</p></dd><dt><span><b class="term">LOG&nbsp;--&nbsp;</b></span></dt><dd><p>Natural logarithm: LOG(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">LOG10&nbsp;--&nbsp;</b></span></dt><dd><p>Common logarithm: LOG10(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">NINT&nbsp;--&nbsp;</b></span></dt><dd><p>Nearest integer: 2.783 becomes
3.0, -1.75 becomes -2.0.</p></dd><dt><span><b class="term">NOT&nbsp;--&nbsp;</b></span></dt><dd><p>Logical complement: values &nbsp;
<span class="inlineequation" style="&#xA;          vertical-align:0.000000px"><img src="graphics/eqdf914e7c-a0d2-4395-9ec6-f1f5daf123e5.svg"></span> 0.0 (false) become 1.0 (true).  Values &gt; 0.0 (true) become
0.0 (false).</p></dd><dt><span><b class="term">PRIN&nbsp;--&nbsp;</b></span></dt><dd><p>Principal stresses (<em class="replaceable"><code>n</code></em>X5). <em class="replaceable"><code>Par1</code></em> contains the <em class="replaceable"><code>n</code></em>X6 component stresses for the <em class="replaceable"><code>n</code></em> locations
of the calculations.</p></dd><dt><span><b class="term">PWR&nbsp;--&nbsp;</b></span></dt><dd><p>Power function: <em class="replaceable"><code>Par1</code></em>**<em class="replaceable"><code>CON1</code></em>.
Exponentiation of any negative number in the vector <em class="replaceable"><code>Par1</code></em> to
a non-integer power is performed by exponentiating the positive number and
prepending the minus sign. For example, -4**2.3 is -(4**2.3).</p></dd><dt><span><b class="term">SIN&nbsp;--&nbsp;</b></span></dt><dd><p>Sine: SIN(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">SINH&nbsp;--&nbsp;</b></span></dt><dd><p>Hyperbolic sine: SINH(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">SQRT&nbsp;--&nbsp;</b></span></dt><dd><p>Square root: SQRT(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">TAN&nbsp;--&nbsp;</b></span></dt><dd><p>Tangent: TAN(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">TANH&nbsp;--&nbsp;</b></span></dt><dd><p>Hyperbolic tangent: TANH(<em class="replaceable"><code>Par1</code></em>).</p></dd><dt><span><b class="term">TANG&nbsp;--&nbsp;</b></span></dt><dd><p>Tangent to a path at a point:
 the slope at a point is determined by linear interpolation half way between
the previous and next points.  Points are assumed to be in the global Cartesian
coordinate system.  Path points are specified in array <em class="replaceable"><code>Par1</code></em> (having
3 consecutive columns of data, with the columns containing the x, y, and z
coordinate locations, respectively, of the points).  Only the starting row
index and the column index for the x coordinates are specified, such as A(1,1).
 The y and z coordinates of the vector are assumed to begin in the corresponding
next columns, such as A(1,2) and A(1,3).  The tangent result, <em class="replaceable"><code>ParR</code></em>,
must also have 3 consecutive columns of data and will contain the tangent
direction vector (normalized to 1.0); such as 1,0,0 for an x-direction vector.</p></dd><dt><span><b class="term">NORM&nbsp;--&nbsp;</b></span></dt><dd><p>Normal to a path and an input
vector at a point: determined from the cross-product of the calculated tangent
vector (see TANG) and the input direction vector (with the i, j, and k components
input as <em class="replaceable"><code>CON1</code></em>, <em class="replaceable"><code>CON2</code></em>,
and <em class="replaceable"><code>CON3</code></em>).  Points are assumed to be in the global
Cartesian coordinate system.  Path points are specified in array <em class="replaceable"><code>Par1</code></em> (having
3 consecutive columns of data, with the columns containing the x, y, and z
coordinate locations, respectively, of the points).  Only the starting row
index and the column index for the x coordinates are specified, such as A(1,1).
 The y and z coordinates of the vector are assumed to begin in the corresponding
next columns, such as A(1,2) and A(1,3).  The normal result, <em class="replaceable"><code>ParR</code></em>,
must also have 3 consecutive columns of data and will contain the normal direction
vector (normalized to 1.0); such as 1,0,0 for an x-direction vector.</p></dd><dt><span><b class="term">LOCAL&nbsp;--&nbsp;</b></span></dt><dd><p>Transforms global Cartesian
coordinates of a point to the coordinates of a specified system: points to
be transformed are specified in array <em class="replaceable"><code>Par1</code></em> (having
3 consecutive columns of data, with the columns containing the x, y, and z
global Cartesian coordinate locations, respectively, of the points).  Only
the starting row index and the column index for the x coordinates are specified,
such as A(1,1).  The y and z coordinates of the vector are assumed to begin
in the corresponding next columns, such as A(1,2) and A(1,3).  Results are
transformed to coordinate system <em class="replaceable"><code>CON1</code></em> (which may
be any valid coordinate system number, such as 1,2,11,12, etc.).  The transformed
result, <em class="replaceable"><code>ParR</code></em>, must also have 3 consecutive columns
of data and will contain the corresponding transformed coordinate locations.</p></dd><dt><span><b class="term">GLOBAL&nbsp;--&nbsp;</b></span></dt><dd><p>Transforms specified coordinates
of a point to global Cartesian coordinates: points to be transformed are specified
in array <em class="replaceable"><code>Par1</code></em> (having 3 consecutive columns of
data, with the columns containing the local coordinate locations (x, y, z
or r,&nbsp;&#952;, z or etc.) of the points).  Only the starting row index
and the column index for the x coordinates are specified, such as A(1,1).
 The y and z coordinates (or&nbsp;&#952; and z, or etc.) of the vector are
assumed to begin in the corresponding next columns, such as A(1,2) and A(1,3).
 Local coordinate locations are assumed to be in coordinate system <em class="replaceable"><code>CON1</code></em> (which
may be any valid coordinate system number, such as 1,2,11,12, etc.).  The
transformed result, <em class="replaceable"><code>ParR</code></em>, must also have 3 consecutive
columns of data, with the columns containing the global Cartesian x, y, and
z coordinate locations, respectively.</p></dd></dl></div></div><p>
</p></dd><dt><span><b class="term">
<em class="replaceable"><code>Par1</code></em>
</b></span></dt><dd><p>Array parameter vector in the operation.</p></dd><dt><span><b class="term">
<em class="replaceable"><code>CON1</code></em>, <em class="replaceable"><code>CON2</code></em>, <em class="replaceable"><code>CON3</code></em>
</b></span></dt><dd><p>Constants (used only with the PWR, NORM, LOCAL, and GLOBAL
functions).</p></dd></dl></div></div></div><div class="refsect1" title="Notes"><a name="a-VFUN.notes"></a><h2>Notes</h2><p>Operates on one input array parameter vector and produces one output
array parameter vector according to:</p><div class="informalexample"><p>
<em class="replaceable"><code>ParR</code></em> = f(<em class="replaceable"><code>Par1</code></em>)</p></div><p>
</p><p>where the functions (f) are described below.
 Functions are based on the standard FORTRAN definitions where possible. 
Out-of-range function results (or results with exponents whose magnitudes
are approximately greater than 32 or less than -32) produce a zero value.
 Input and output for angular functions may be radians (default) or degrees
[<a href="Hlp_C_AFUN.html" class="olink"><span class="command"><strong>*AFUN</strong></span></a>].  <em class="replaceable"><code>ParR</code></em> may be the same
as <em class="replaceable"><code>Par1</code></em>.  Starting array element numbers must be
defined for each array parameter vector if it does not start at the first
location. For example, <a href="Hlp_C_VFUN.html" class="olink"><span class="command"><strong>*VFUN</strong></span></a>,A,SQRT,B(5) takes the square
root of the fifth element of B and stores the result in the first element
of A.  Operations continue on successive array elements [<a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a>, <a href="Hlp_C_VMASK.html" class="olink"><span class="command"><strong>*VMASK</strong></span></a>]
with the default being all successive elements.  Absolute values and scale
factors may be applied to all parameters [<a href="Hlp_C_VABS.html" class="olink"><span class="command"><strong>*VABS</strong></span></a>, <a href="Hlp_C_VFACT.html" class="olink"><span class="command"><strong>*VFACT</strong></span></a>].
 Results may be cumulative [<a href="Hlp_C_VCUM.html" class="olink"><span class="command"><strong>*VCUM</strong></span></a>].  Skipping array elements
via <a href="Hlp_C_VMASK.html" class="olink"><span class="command"><strong>*VMASK</strong></span></a> or <a href="Hlp_C_VLEN.html" class="olink"><span class="command"><strong>*VLEN</strong></span></a> for the TANG and
NORM functions skips only the writing of the results (skipped array element
data are used in all calculations).  See the <a href="Hlp_C_VOPER.html" class="olink"><span class="command"><strong>*VOPER</strong></span></a> command
for details.</p><p>This command is valid in any processor.</p></div><div class="refsect1" title="Menu Paths"><a name="d0e293225"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>Utility Menu&gt;Parameters&gt;Array Operations&gt;Vector Functions</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>