<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:38:40-04:00"><title>*DMAT</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_D_TOC.html" title="D Commands"><link rel="prev" href="Hlp_C_DLLIST.html" title="DLLIST"><link rel="next" href="Hlp_C_DMOVE.html" title="DMOVE"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="*DMAT"><a name="a-DMAT"></a><div class="titlepage"></div><a class="indexterm" name="d0e71800"></a><span class="refentrytitle"><a href="Hlp_C_DMAT.html" class="olink"><span class="command"><strong>*DMAT</strong></span></a></span><div class="refnamediv"><p><span class="command"><strong>*DMAT</strong></span>, <em class="replaceable"><code>Matrix</code></em>, <em class="replaceable"><code>Type</code></em>, <em class="replaceable"><code>Method</code></em>, <em class="replaceable"><code>Val1</code></em>, <em class="replaceable"><code>Val2</code></em>, <em class="replaceable"><code>Val3</code></em>, <em class="replaceable"><code>Val4</code></em>, <em class="replaceable"><code>Val5</code></em><br><b class="refpurpose">Creates a dense matrix.</b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_4.html" title="2.4.&nbsp;APDL Commands"><code class="classname">APDL</code></a>: <a class="link" href="Hlp_C_CH2_4.html#cmdapdlmatrix" title="Table&nbsp;2.23:&nbsp;&nbsp;Matrix Operations (APDL Math)"><span class="type">Matrix Operations</span></a></span></div></div></div><div class="refclass"><div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  &#8211; | Pro | Premium | Enterprise | Ent PP | Ent Solver | DYNA</span></div></div></div></p></div><div class="refsect1" title="Argument Descriptions"><a name="a-DMAT.argdescript"></a><h2>Argument Descriptions</h2><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Matrix</code></em></b></span></dt><dd><p>Name used to identify the matrix. Must be specified.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Type</code></em></b></span></dt><dd><p>Matrix type:       </p><div><div class="variablelist"><dl><dt><span><b class="term">D&nbsp;--&nbsp;</b></span></dt><dd><p>Double precision real
values (default).</p></dd><dt><span><b class="term">Z&nbsp;--&nbsp;</b></span></dt><dd><p>Complex double precision
values.</p></dd><dt><span><b class="term">I&nbsp;--&nbsp;</b></span></dt><dd><p>Integer values.</p></dd></dl></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>Method</code></em></b></span></dt><dd><p>Method used to create the matrix:       </p><div><div class="variablelist"><dl><dt><span><b class="term">ALLOC&nbsp;--&nbsp;</b></span></dt><dd><p>Allocate space for
a matrix (default).</p></dd><dt><span><b class="term">RESIZE&nbsp;--&nbsp;</b></span></dt><dd><p>Resize an existing
matrix to new row and column dimensions. Values are kept from the
original matrix. If the dimensions specified by <em class="replaceable"><code>Val1</code></em> (rows) and <em class="replaceable"><code>Val2</code></em> (columns) are greater
than the original matrix size, the additional entries are assigned
a value of zero.</p></dd><dt><span><b class="term">COPY&nbsp;--&nbsp;</b></span></dt><dd><p>Copy an existing matrix.</p></dd><dt><span><b class="term">LINK&nbsp;--&nbsp;</b></span></dt><dd><p>Link to an existing
matrix. The memory will be shared between the original matrix and
the new matrix. This is useful for manipulating a submatrix of a larger
matrix. The <em class="replaceable"><code>Val1</code></em> through <em class="replaceable"><code>Val5</code></em> arguments will be used to specify the lower and upper bounds of
row and column numbers from the original matrix.</p></dd><dt><span><b class="term">IMPORT&nbsp;--&nbsp;</b></span></dt><dd><p>Import the matrix
from a file.</p></dd></dl></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>Val1</code></em>, <em class="replaceable"><code>Val2</code></em>, <em class="replaceable"><code>Val3</code></em>, <em class="replaceable"><code>Val4</code></em>, <em class="replaceable"><code>Val5</code></em></b></span></dt><dd><p>Additional input. The meaning of <em class="replaceable"><code>Val1</code></em> through <em class="replaceable"><code>Val5</code></em> will vary depending on the
specified <em class="replaceable"><code>Method</code></em>. See details below.</p></dd></dl></div></div><p><span class="bold"><strong>The following <em class="replaceable"><code>Valx</code></em> fields are used with <em class="replaceable"><code>Method</code></em> = ALLOC or <em class="replaceable"><code>Method</code></em> = RESIZE:</strong></span></p><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Val1</code></em></b></span></dt><dd><p>Number of rows in the matrix.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val2</code></em></b></span></dt><dd><p>Number of columns in the matrix.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val3</code></em></b></span></dt><dd><p>Memory allocation type (used only with <em class="replaceable"><code>Method</code></em> = ALLOC):       </p><div><div class="variablelist"><dl><dt><span><b class="term">INCORE&nbsp;--&nbsp;</b></span></dt><dd><p>In-core memory allocation
(default).</p></dd><dt><span><b class="term">OUTOFCORE&nbsp;--&nbsp;</b></span></dt><dd><p>Out-of-core memory
allocation.</p></dd></dl></div></div></dd></dl></div></div><p><span class="bold"><strong>The following <em class="replaceable"><code>Valx</code></em> fields are used with <em class="replaceable"><code>Method</code></em> = COPY:</strong></span></p><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Val1</code></em></b></span></dt><dd><p>Name of the matrix to copy.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val2</code></em></b></span></dt><dd><p>Method used for copying the matrix:</p><div><div class="variablelist"><dl><dt><span><b class="term">TRANS&nbsp;--&nbsp;</b></span></dt><dd><p>Transpose the original
matrix. <em class="replaceable"><code>Val3</code></em> and <em class="replaceable"><code>Val4</code></em> are ignored.</p></dd><dt><span><b class="term">REAL&nbsp;--&nbsp;</b></span></dt><dd><p>Copy the real part to the output matrix. This option only applies when copying a
          complex value matrix to a real value matrix. <em class="replaceable"><code>Val3</code></em> and
           <em class="replaceable"><code>Val4</code></em> are ignored.</p></dd><dt><span><b class="term">IMAG&nbsp;--&nbsp;</b></span></dt><dd><p>Copy the imaginary part to the output matrix. This option only applies when copying a
          complex value matrix to a real value matrix. <em class="replaceable"><code>Val3</code></em> and
           <em class="replaceable"><code>Val4</code></em> are ignored.</p></dd><dt><span><b class="term">EXTRACT&nbsp;--&nbsp;</b></span></dt><dd><p>Extract a submatrix
based on row and column numbers specified by <em class="replaceable"><code>Val3</code></em> and <em class="replaceable"><code>Val4</code></em>.</p></dd></dl></div></div></dd><dt><span><b class="term"><em class="replaceable"><code>Val3</code></em></b></span></dt><dd><p>Name of integer vector (<a href="Hlp_C_VEC.html" class="olink"><span class="command"><strong>*VEC</strong></span></a>) containing
row numbers. If no vector is specified, defaults to all rows.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val4</code></em></b></span></dt><dd><p>Name of integer vector (<a href="Hlp_C_VEC.html" class="olink"><span class="command"><strong>*VEC</strong></span></a>) containing
column numbers. If no vector is specified, defaults to all columns.</p></dd></dl></div></div><p><span class="bold"><strong>The following <em class="replaceable"><code>Valx</code></em> fields are used with <em class="replaceable"><code>Method</code></em> = LINK:</strong></span></p><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Val1</code></em></b></span></dt><dd><p>Name of the original matrix.</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val2</code></em></b></span></dt><dd><p>First column number (defaults to 1).</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val3</code></em></b></span></dt><dd><p>Last column number (defaults to the maximum column
number of the original matrix).</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val4</code></em></b></span></dt><dd><p>First row number (defaults to 1).</p></dd><dt><span><b class="term"><em class="replaceable"><code>Val5</code></em></b></span></dt><dd><p>Last row number (defaults to the maximum row number
of the original matrix).</p></dd></dl></div></div><p><span class="bold"><strong>The following table describes the <em class="replaceable"><code>Valx</code></em> fields used with <em class="replaceable"><code>Method</code></em> = IMPORT:</strong></span></p><div class="informaltable"><table border="1" width="95%"><colgroup><col width="48" class="col1"><col width="96" class="col2"><col width="192" class="col3"><col width="96" class="col4"><col width="96" class="COLSPEC0"><col width="192" class="col5"></colgroup><thead><tr><th colspan="6" align="center" valign="top"><em class="replaceable"><code>Method</code></em> = IMPORT</th></tr><tr><th align="center" valign="top"><em class="replaceable"><code>Val1</code></em></th><th align="center" valign="top"><em class="replaceable"><code>Val2</code></em></th><th align="center" valign="top"><em class="replaceable"><code>Val3</code></em></th><th align="center" valign="top"><em class="replaceable"><code>Val4</code></em></th><th align="center" valign="top"><em class="replaceable"><code>Val5</code></em></th><th align="center" valign="top">Description</th></tr></thead><tbody><tr><td>FULL</td><td>File name</td><td>Matrix
type:<table border="0" summary="Simple list" class="simplelist"><tr><td>STIFF - Stiffness matrix</td></tr><tr><td>MASS - Mass matrix</td></tr><tr><td>DAMP - Damping matrix</td></tr><tr><td>RHS - Load vector</td></tr><tr><td>K_RE - Real part of the stiffness matrix</td></tr><tr><td>K_IM - Imaginary part of the stiffness matrix</td></tr></table></td><td>(not used)</td><td>(not used)</td><td>Import a matrix or load vector from an existing <span class="filename"><strong>FULL</strong></span> file.<table border="0" summary="Simple list" class="simplelist"><tr><td>For a complex stiffness matrix, you can use the K_RE or K_IM
label to import only the real part or only the imaginary part. The
K_RE and K_IM  options both create real matrices.</td></tr></table></td></tr><tr><td>MODE</td><td>File name</td><td>First mode number</td><td>Last mode number</td><td>(not used)</td><td>Import a set of modes from an existing <span class="filename"><strong>MODE</strong></span> file.</td></tr><tr><td>CMS</td><td>File name</td><td>Mode type:<table border="0" summary="Simple list" class="simplelist"><tr><td>NOR - Normal modes</td></tr><tr><td>IRF - Inertial relief modes</td></tr><tr><td>CST - Constraint modes</td></tr><tr><td>RSD - Residual modes</td></tr></table></td><td>(not used)</td><td>(not used)</td><td>Import a modal basis from an existing <span class="filename"><strong>CMS</strong></span> file.</td></tr><tr><td>TCMS</td><td>File name</td><td>Mode type:<table border="0" summary="Simple list" class="simplelist"><tr><td>NOR - Normal modes</td></tr><tr><td>IRF - Inertial relief modes</td></tr><tr><td>CST - Constraint modes</td></tr></table></td><td>(not used)</td><td>(not used)</td><td>Import a modal basis from an existing <span class="filename"><strong>TCMS</strong></span> file.</td></tr><tr><td>RST</td><td>File name</td><td>First data set number</td><td>Last data set number</td><td><p>Result Type: </p><table border="0" summary="Simple list" class="simplelist"><tr><td>NSL - Nodal Solution </td></tr><tr><td>VSL - Transient velocity solution </td></tr><tr><td>ASL - Transient acceleration solution </td></tr><tr><td>RF - Reaction Forces</td></tr></table></td><td>Import degree of freedom results from
an existing <span class="filename"><strong>RST</strong></span> file.</td></tr><tr><td>SUB</td><td>File name</td><td>Matrix type:<table border="0" summary="Simple list" class="simplelist"><tr><td>STIFF - Stiffness (or conductivity) matrix</td></tr><tr><td>MASS - Mass (or specific heat) matrix</td></tr><tr><td>DAMP - Damping matrix</td></tr><tr><td>RHS - Load vector</td></tr></table></td><td>(not used)</td><td>(not used)</td><td>Import a matrix or load vector from an existing <span class="filename"><strong>SUB</strong></span> file.</td></tr><tr><td>HBMAT</td><td>File name</td><td>File format:<table border="0" summary="Simple list" class="simplelist"><tr><td>ASCII</td></tr><tr><td>BINARY</td></tr></table></td><td>(not used)</td><td>(not used)</td><td>Import a matrix from an existing Harwell-Boeing format file.</td></tr><tr><td>EMAT</td><td>File name</td><td>Matrix
type:<table border="0" summary="Simple list" class="simplelist"><tr><td>STIFF - Stiffness matrix</td></tr><tr><td>MASS - Mass matrix</td></tr><tr><td>DAMP - Damping matrix</td></tr><tr><td>STRESS - Stress-stiffness matrix</td></tr><tr><td>RHS - Load vector</td></tr></table></td><td>Element number</td><td>(not used)</td><td>Import an element matrix or load vector from an existing <span class="filename"><strong>EMAT</strong></span> file.</td></tr><tr><td>MAT</td><td>File name</td><td>(not used)</td><td>(not used)</td><td>(not used)</td><td>Restore from a previous <a href="Hlp_C_EXPORT.html" class="olink"><span class="command"><strong>*EXPORT</strong></span></a> (<em class="replaceable"><code>FORMAT</code></em> = MAT) command.</td></tr><tr><td>APDL</td><td>Array parameter name</td><td>(not
used)</td><td>(not used)</td><td>(not used)</td><td>Import an existing array parameter.</td></tr><tr><td>RFRQ</td><td>File name</td><td><p>STF - Reduced Stiffness matrix</p><p>MAS - Reduced Mass matrix</p><p>DMP - Reduced Damping
matix</p></td><td>&nbsp;</td><td>(not used)</td><td>Import reduced matrices from a <span class="filename"><strong>.RFRQ</strong></span> ANSYS file.</td></tr><tr><td>MMF</td><td>File name</td><td>(not used)</td><td>(not used)</td><td>(not used)</td><td>Import a
dense matrix from an existing Matrix Market file. </td></tr><tr><td>DMIG</td><td>File name</td><td><p>- Separator
character (default=blank)</p><p>- or &#8216;F&#8217; means
formatted file (see <a class="xref" href="Hlp_C_DMAT.html#a-DMAT.notes" title="Notes">"Notes"</a>)</p></td><td>If <em class="replaceable"><code>Val3</code></em> == &#8216;F&#8217;, length
of the fields</td><td>(not used)</td><td>Import a matrix
from an existing Nastran <span class="filename"><strong>DMIG</strong></span> file.</td></tr></tbody></table></div></div><div class="refsect1" title="Notes"><a name="a-DMAT.notes"></a><h2>Notes</h2><p>This command allows you to create a dense matrix. To create
a sparse matrix, use the <a href="Hlp_C_SMAT.html" class="olink"><span class="command"><strong>*SMAT</strong></span></a> command. <a href="Hlp_C_SMAT.html" class="olink"><span class="command"><strong>*SMAT</strong></span></a> is recommended for large matrices obtained from the <span class="filename"><strong>.FULL</strong></span> or <span class="filename"><strong>.HBMAT</strong></span> file. Refer to the <a class="link" href="Hlp_C_HBMAT.html" title="HBMAT"><span class="command"><strong>HBMAT</strong></span></a> command documentation for more information about <span class="filename"><strong>.FULL</strong></span> file contents.</p><p>Use the <a href="Hlp_C_VEC.html" class="olink"><span class="command"><strong>*VEC</strong></span></a> command to create a vector.</p><p>For very large matrices, use the OUTOFCORE option (<em class="replaceable"><code>Method</code></em> = ALLOC or COPY) to keep some of the matrix
on disk if there is insufficient memory.</p><p>When importing a dense matrix from a <span class="bold"><strong>DMIG </strong></span>file, you can define the formatting of the file using the <em class="replaceable"><code>Val3</code></em> and <em class="replaceable"><code>Val4</code></em> fields. Here
are a few different example of formats:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A formatted file (using <em class="replaceable"><code>Val3</code></em>=&#8217;F&#8217;, and <em class="replaceable"><code>Val4</code></em>=8):</p><pre class="programlisting">...
DMIG* &nbsp;&nbsp;KAAX &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2
* &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-2.261491337E+08
...</pre></li><li class="listitem"><p>A non-formatted file with blank separators:</p><pre class="programlisting">...
DMIG stiff 1 2 1 2 29988.
1 6 149940. 2 2 -29988.
2 6 149940.
...</pre></li><li class="listitem"><p>A non-formatted file with a comma separator (using <em class="replaceable"><code>Val3</code></em>=&#8217;,&#8217;):</p><pre class="programlisting">...
DMIG,KF,22321,3,,22321,2,-5.00E+6
DMIG,KF,22320,3,,22320,2,-5.00E+6
...</pre></li></ul></div></div><div class="refsect1" title="Menu Paths"><a name="d0e72553"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>This command cannot be accessed from a menu.</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>