<!DOCTYPE html><html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta name="date" content="2017-07-14 18:39:49-04:00"><title>MSAVE</title><link rel="stylesheet" type="text/css" href="basic.css"><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"><link rel="home" href="Hlp_C_CmdTOC.html" title="Mechanical APDL Command Reference"><link rel="up" href="Hlp_M_TOC.html" title="M Commands"><link rel="prev" href="Hlp_C_MRPM.html" title="MRPM"><link rel="next" href="Hlp_C_MSG.html" title="*MSG"><script type="text/javascript"><!--
function toggleElementDisplay (id) {
  var elem = document.getElementById(id);
  if (elem.style.display != "block") {
    elem.style.display = "block";
  } else {
    elem.style.display = "none";
  }
}
//--></script></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" title="MSAVE"><a name="MSAVE"></a><div class="titlepage"></div><a class="indexterm" name="d0e173404"></a><span class="refentrytitle"><span class="command"><strong>MSAVE</strong></span></span><div class="refnamediv"><p><span class="command"><strong>MSAVE</strong></span>, <em class="replaceable"><code>Key</code></em><br><b class="refpurpose">Sets the solver memory saving option.
This option only applies to the PCG solver (including PCG Lanczos).</b><div class="refclass"><div class=""><div class="application"><span class="application"><a class="link" href="Hlp_C_CH2_6.html" title="2.6.&nbsp;SOLUTION Commands"><code class="classname">SOLUTION</code></a>: <a class="link" href="Hlp_C_CH2_6.html#cmdsoluanaoptjla070199" title="Table&nbsp;2.49:&nbsp;&nbsp;Analysis Options"><span class="type">Analysis Options</span></a></span></div></div></div><div class="refclass"><div class=""><div class="application"><span class="application"><a href="Hlp_C_CH1_2_1.html#aIcomd24mcm" class="olink">Compatible Products:</a>  &#8211; | Pro | Premium | Enterprise | Ent PP | Ent Solver | &#8211;</span></div></div> </div></p></div><div class="refsynopsisdiv" title="Synopsis"><a name="MSAVE.argdescript"></a><h2></h2><div><div class="variablelist"><dl><dt><span><b class="term"><em class="replaceable"><code>Key</code></em></b></span></dt><dd><p>Activation key:</p><div><div class="variablelist"><table border="0"><col align="left" valign="top"><tbody><tr valign="top"><td align="right" valign="top"><p><span><b class="term">0&nbsp;or&nbsp;OFF</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Use global assembly for the stiffness matrix (and mass matrix, when
using PCG Lanczos) of the entire model.</p></td></tr><tr valign="top"><td align="right" valign="top"><p><span><b class="term">1&nbsp;or&nbsp;ON</b></span></p></td><td valign="center"><p>&nbsp;&#8212;&nbsp;</p></td><td><p>Use an element-by-element approach when possible to save memory during
the solution. In this case, the global stiffness (and mass) matrix
is not assembled; element stiffness (and mass) is regenerated during
PCG or PCG Lanczos iterations.</p></td></tr></tbody></table></div></div></dd></dl></div></div></div><div class="refsect1" title="Notes"><a name="MSAVE.notes"></a><h2>Notes</h2><p><span class="command"><strong>MSAVE</strong></span>,ON only applies to and is the default
for parts of the model using the following element types with linear
material properties that meet the conditions listed below.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><a href="../ans_elem/Hlp_E_SOLID186.html" class="olink"><span class="structname">SOLID186</span></a> (Structural Solid
only)</p></li><li class="listitem"><p><a href="../ans_elem/Hlp_E_SOLID187.html" class="olink"><span class="structname">SOLID187</span></a></p></li></ul></div><p>The following conditions must also be true:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The PCG solver has been specified.</p></li><li class="listitem"><p>Small strains are assumed (<a class="link" href="Hlp_C_NLGEOM.html" title="NLGEOM"><span class="command"><strong>NLGEOM</strong></span></a>,OFF). </p></li><li class="listitem"><p>No prestress effects (<a class="link" href="Hlp_C_PSTRES.html" title="PSTRES"><span class="command"><strong>PSTRES</strong></span></a>) are
included.</p></li><li class="listitem"><p>All nodes on the supported element types must be defined
(i.e., the midside nodes cannot be removed using the <a class="link" href="Hlp_C_EMID.html" title="EMID"><span class="command"><strong>EMID</strong></span></a> command).</p></li><li class="listitem"><p>For elements with thermally dependent material properties, <span class="command"><strong>MSAVE</strong></span>,ON applies only to elements with uniform temperatures
prescribed.</p></li><li class="listitem"><p>The default element coordinate system must be used. </p></li></ul></div><p>If you manually force <span class="command"><strong>MSAVE</strong></span>,ON by including
it in the input file, the model can include the following additional
conditions:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>The analysis can be a modal analysis using the PCG
Lanczos method (<a class="link" href="Hlp_C_MODOPT.html" title="MODOPT"><span class="command"><strong>MODOPT</strong></span></a>,LANPCG).</p></li><li class="listitem"><p>Large deflection effects (<a class="link" href="Hlp_C_NLGEOM.html" title="NLGEOM"><span class="command"><strong>NLGEOM</strong></span></a>,ON) are included. </p></li><li class="listitem"><p><a href="../ans_elem/Hlp_E_SOLID185.html" class="olink"><span class="structname">SOLID185</span></a> (brick shapes and
KEYOPT(2) = 3 only) elements can be included.</p></li></ul></div><p>All other element types or other parts
of the model that don't meet the above criteria will be solved using
global assembly (<span class="command"><strong>MSAVE</strong></span>,OFF). This command can result
in memory savings of up to 70 percent over the global assembly approach
for the part of the model that meets the criteria. Depending on the
hardware (e.g., processor speed, memory bandwidth, etc.), the solution
time may increase or decrease when this feature is used. </p><p>This memory-saving feature runs in parallel when multiple processors
are used with the <a href="Hlp_C_CONFIG.html" class="olink"><span class="command"><strong>/CONFIG</strong></span></a> command or with Distributed ANSYS.
The gain in performance with using multiple processors with this feature
turned on should be similar to the default case when this feature
is turned off. Performance also improves when using the uniform reduced
integration option for <a href="../ans_elem/Hlp_E_SOLID186.html" class="olink"><span class="structname">SOLID186</span></a> elements.</p><p>This command does not support the <span class="italic"><em>layered</em></span> option of the <a href="../ans_elem/Hlp_E_SOLID185.html" class="olink"><span class="structname">SOLID185</span></a> and <a href="../ans_elem/Hlp_E_SOLID186.html" class="olink"><span class="structname">SOLID186</span></a> elements.</p><p>When using <span class="command"><strong>MSAVE</strong></span>,ON with the <a class="link" href="Hlp_C_PCGOPT.html" title="PCGOPT"><span class="command"><strong>PCGOPT</strong></span></a> command, note the following restrictions:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>For static and modal analyses, <span class="command"><strong>MSAVE</strong></span>,ON is not valid when using a <em class="replaceable"><code>Lev_Diff</code></em> value of 5 on the <a class="link" href="Hlp_C_PCGOPT.html" title="PCGOPT"><span class="command"><strong>PCGOPT</strong></span></a> command; <em class="replaceable"><code>Lev_Diff</code></em> will automatically be reset to 2.</p></li><li class="listitem"><p>For modal analyses, <span class="command"><strong>MSAVE</strong></span>,ON is
not valid with the <em class="replaceable"><code>StrmCk</code></em> option of the <a class="link" href="Hlp_C_PCGOPT.html" title="PCGOPT"><span class="command"><strong>PCGOPT</strong></span></a> command; <em class="replaceable"><code>Strmck</code></em> will
be set to OFF.</p></li><li class="listitem"><p>For all analysis types, <span class="command"><strong>MSAVE</strong></span>,ON
is not valid when the Lagrange multiplier option (<em class="replaceable"><code>LM_Key</code></em>) of the <a class="link" href="Hlp_C_PCGOPT.html" title="PCGOPT"><span class="command"><strong>PCGOPT</strong></span></a> command is set to ON; the <span class="command"><strong>MSAVE</strong></span> activation key will be set to OFF.</p></li><li class="listitem"><p>For linear perturbation static
and modal analyses, <span class="command"><strong>MSAVE</strong></span>,ON is not valid; the <span class="command"><strong>MSAVE</strong></span> activation key will be set to OFF.</p></li></ul></div><p>When using <span class="command"><strong>MSAVE</strong></span>,ON for modal analyses, no <span class="filename"><strong>.FULL</strong></span> file will be created. The <span class="filename"><strong>.FULL</strong></span> file may be necessary for subsequent analyses (e.g., harmonic, transient
mode-superposition, or spectrum analyses). To generate the <span class="filename"><strong>.FULL</strong></span> file, rerun the modal analysis using the <a class="link" href="Hlp_C_WRFULL.html" title="WRFULL"><span class="command"><strong>WRFULL</strong></span></a> command.</p></div><div class="refsect1" title="Menu Paths"><a name="MSAVE.menupath"></a><h2>Menu Paths</h2><table border="0" summary="Simple list" class="simplelist"><tr><td><span class="guimenu"><strong>Main Menu&gt;Preprocessor&gt;Loads&gt;Analysis Type&gt;Analysis Options</strong></span></td></tr><tr><td><span class="guimenu"><strong>Main Menu&gt;Solution&gt;Analysis Type&gt;Analysis Options</strong></span></td></tr></table></div></div><hr><p class="legalfooter"><small><i>Release 18.2 - &copy; ANSYS, Inc. All rights reserved.</i></small></p></body></html>